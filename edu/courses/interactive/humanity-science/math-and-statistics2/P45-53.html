<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>ÿ™ÿØÿ±€åÿ≥ ÿ™ÿπÿßŸÖŸÑ€å: ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ</title>
    
    <!-- Vazirmatn Font for Persian -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    
    <!-- MathJax for Mathematical Expressions -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['$$', '$$']]
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    
    <style>
        * {
            font-family: 'Vazirmatn', sans-serif;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.8;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        button, .nav-tab, .option, .draggable-word, .card-nav-btn, 
        .accordion-header, .tf-option {
            touch-action: manipulation;
        }
        
        .book-container {
            max-width: 90%;
            margin: 0 auto;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }
        
        .cover-page {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px 40px;
            text-align: center;
        }
        
        .cover-page h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .cover-page .author {
            font-size: 1.2em;
            opacity: 0.9;
            margin: 15px 0;
        }
        
        .cover-page .version {
            font-size: 1em;
            opacity: 0.7;
            margin: 10px 0;
        }
        
        .cover-page .description {
            font-size: 1.1em;
            line-height: 1.8;
            margin-top: 30px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        
        .nav-container {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        
        .nav-tab {
            padding: 10px 20px;
            background: #e9ecef;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 0.95em;
            transition: all 0.3s ease;
        }
        
        .nav-tab:hover {
            background: #dee2e6;
            transform: translateY(-2px);
        }
        
        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .chapter {
            padding: 30px 40px;
            display: none;
        }
        
        .chapter.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .chapter-title {
            font-size: 1.8em;
            color: #1e3c72;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        
        .content-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-right: 5px solid #667eea;
        }
        
        .content-section h3 {
            color: #2a5298;
            margin-top: 0;
        }
        
        .formula-box {
            background: linear-gradient(135deg, #fff5f5 0%, #fff 100%);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #667eea;
            margin: 15px 0;
            text-align: center;
        }
        
        .example-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #fff 100%);
            padding: 20px;
            border-radius: 10px;
            border-right: 5px solid #4caf50;
            margin: 20px 0;
        }
        
        .example-box h4 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #fff 100%);
            padding: 20px;
            border-radius: 10px;
            border-right: 5px solid #ff9800;
            margin: 20px 0;
        }
        
        .warning-box h4 {
            color: #e65100;
            margin-top: 0;
        }
        
        .accordion-container {
            margin: 20px 0;
        }
        
        .accordion-item {
            margin: 10px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .accordion-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
        }
        
        .accordion-header:hover {
            opacity: 0.95;
        }
        
        .accordion-header .icon {
            transition: transform 0.3s ease;
        }
        
        .accordion-item.open .accordion-header .icon {
            transform: rotate(180deg);
        }
        
        .accordion-content {
            background: white;
            padding: 0 25px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .accordion-item.open .accordion-content {
            padding: 20px 25px;
            max-height: 500px;
        }
        
        .question-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .question-text {
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #333;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            padding: 15px 20px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option:hover {
            background: #e9ecef;
            border-color: #667eea;
        }
        
        .option.selected {
            background: #e3f2fd;
            border-color: #2196f3;
        }
        
        .option.correct {
            background: #e8f5e9;
            border-color: #4caf50;
        }
        
        .option.wrong {
            background: #ffebee;
            border-color: #f44336;
        }
        
        .cards-container {
            perspective: 1000px;
        }
        
        .flashcard {
            width: 100%;
            height: 250px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            margin: 20px 0;
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            text-align: center;
            font-size: 1.2em;
        }
        
        .card-front {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .card-back {
            background: linear-gradient(135deg, #2e7d32 0%, #4caf50 100%);
            color: white;
            transform: rotateY(180deg);
        }
        
        .card-navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .card-nav-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1em;
            transition: transform 0.3s ease;
        }
        
        .card-nav-btn:hover {
            transform: scale(1.05);
        }
        
        .card-counter {
            display: flex;
            align-items: center;
            font-weight: bold;
            color: #667eea;
        }
        
        .drag-text-container {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .sentence-line {
            font-size: 1.1em;
            line-height: 2;
            margin: 15px 0;
        }
        
        .blank-space {
            display: inline-block;
            min-width: 120px;
            height: 35px;
            background: #e3f2fd;
            border: 2px dashed #2196f3;
            border-radius: 8px;
            margin: 0 5px;
            vertical-align: middle;
            text-align: center;
            line-height: 31px;
            padding: 0 10px;
        }
        
        .blank-space.filled {
            background: #bbdefb;
            border-style: solid;
        }
        
        .draggable-words {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
        }
        
        .draggable-word {
            padding: 8px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            cursor: grab;
            transition: transform 0.2s ease;
            user-select: none;
        }
        
        .draggable-word:hover {
            transform: scale(1.05);
        }
        
        .draggable-word.used {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .fill-blank-input {
            width: 100px;
            padding: 8px 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1em;
            text-align: center;
            margin: 0 5px;
        }
        
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        
        .feedback.correct {
            display: block;
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .feedback.wrong {
            display: block;
            background: #ffebee;
            color: #c62828;
        }
        
        .btn-primary {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1em;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            padding: 12px 30px;
            background: #e9ecef;
            color: #333;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1em;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #dee2e6;
        }
        
        .score-display {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }
        
        .score-value {
            font-size: 2.5em;
            font-weight: bold;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .data-table th {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 15px;
            text-align: center;
        }
        
        .data-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .progress-container {
            background: #e9ecef;
            border-radius: 10px;
            height: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .tf-options {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }
        
        .tf-option {
            flex: 1;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .tf-option.true-option {
            background: #e8f5e9;
            border-color: #4caf50;
        }
        
        .tf-option.false-option {
            background: #ffebee;
            border-color: #f44336;
        }
        
        .tf-option.selected {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        mjx-container {
            direction: ltr !important;
        }
        
        /* Responsive */
        @media (max-width: 720px) 
        {
            .book-container { margin: 0; border-radius: 0; max-width: 100%;}
            .chapter { padding: 15px; }
            .cover-page { padding: 40px 20px; }
            .cover-page h1 { font-size: 1.8em; }
            .cover-page h2 { font-size: 1.3em; }
            .nav-container { padding: 10px; }
            .nav-tabs {display: grid;columns: 1; flex-wrap: nowrap; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; gap: 6px; }
            .nav-tabs::-webkit-scrollbar { display: none; }
            .nav-tab { flex-shrink: 0; white-space: nowrap; padding: 8px 14px; font-size: 0.85em; }
            .chapter-title { font-size: 1.4em; }
            .content-section { padding: 15px; }
            .data-table { font-size: 0.85em; }
            .flashcard { height: 200px; }
            .card-front, .card-back { padding: 20px; font-size: 1em; }
            .option { padding: 12px 15px; font-size: 0.95em; }
            .tf-options { flex-direction: column; gap: 10px; }
        }
        
        @media (max-width: 480px) 
        {
            body { padding: 0; }
            .cover-page { padding: 30px 15px; }
            .cover-page h1 { font-size: 1.5em; }
            .chapter { padding: 10px; }
            .chapter-title { font-size: 1.2em; }
            .content-section { padding: 12px; margin: 12px 0; }
            .flashcard { height: 180px; }
            .card-front, .card-back { padding: 15px; font-size: 0.9em; }
            .question-container { padding: 15px; margin: 12px 0; }
            .score-value { font-size: 1.8em; }
        }
        
        @media (hover: none) and (pointer: coarse) 
        {
            .nav-tab, .option, .card-nav-btn, .btn-primary, .btn-secondary, 
            .draggable-word, .accordion-header, .tf-option { min-height: 44px; }
        }
        
        @media print 
        {
            .nav-container { display: none; }
            .chapter { display: block !important; page-break-after: always; }
            .btn-primary, .btn-secondary, .card-nav-btn { display: none; }
        }
    </style>
</head>
<body>
    <div class="book-container">
        <!-- Cover Page -->
        <div class="cover-page" id="cover">
            <h1><span id="cover-title"></span></h1>
            <h2 id="cover-subtitle"></h2>
            <div style="display: flex; margin-top: -100px;">
                <p class="author" style="margin-left: auto;" id="cover-author"></p>
                <p class="version" id="cover-version"></p>
            </div>
            
            <div class="description" id="cover-description"></div>
        </div>
        
        <!-- Navigation -->
        <div class="nav-container">
            <div class="nav-tabs" id="nav-tabs"></div>
        </div>
        
        <!-- Dynamic Chapters Container -->
        <div id="chapters-container"></div>
    </div>

<script>
// ============================================
// BOOK DATA - Edit this JSON to customize content
// ============================================
const BOOK_DATA = {
    // Cover Information
    cover: 
    {
        title: "ÿ™ÿØÿ±€åÿ≥ ÿ™ÿπÿßŸÖŸÑ€å ÿ±€åÿßÿ∂€å Ÿà ÿ¢ŸÖÿßÿ± 2",
        subtitle: "ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ",
        author: " ŸÖÿØÿ±ÿ≥ Ÿà ÿ∑ÿ±ÿßÿ≠ ŸÖÿ≠ÿ™Ÿàÿß: ŸÖÿ≠ŸÖÿØ€å",
        version: "‚úçÔ∏è ŸÜÿ≥ÿÆŸá €±.€∞",
        description: 
        [
            "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ÿå ÿ®ÿß ÿπŸÖŸÑ€åÿßÿ™ ÿßÿµŸÑ€å ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ ÿ¢ÿ¥ŸÜÿß ÿÆŸàÿßŸá€åÿØ ÿ¥ÿØ. €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ ⁄Ü⁄ØŸàŸÜŸá ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ®ÿß ŸáŸÖ ÿ¨ŸÖÿπÿå ÿ™ŸÅÿ±€åŸÇÿå ÿ∂ÿ±ÿ® Ÿà ÿ™ŸÇÿ≥€åŸÖ ⁄©ŸÜ€åÿØ. ŸáŸÖ⁄ÜŸÜ€åŸÜ ÿ®ÿß ÿ±Ÿàÿ¥ ŸÖÿ≠ÿßÿ≥ÿ®Ÿá Ÿà ÿ¥ŸÜÿßÿ≥ÿß€å€å ÿØÿßŸÖŸÜŸá ÿß€åŸÜ ÿ™Ÿàÿßÿ®ÿπ Ÿà ŸÜÿ≠ŸàŸá ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± ÿ¢ŸÜ‚ÄåŸáÿß ÿ¢ÿ¥ŸÜÿß ŸÖ€å‚Äåÿ¥Ÿà€åÿØ.",
            "ÿß€åŸÜ ÿ®ÿ≥ÿ™Ÿá ÿ¢ŸÖŸàÿ≤ÿ¥€å ÿ¥ÿßŸÖŸÑ ÿØÿ±ÿ≥‚ÄåŸáÿßÿå ÿ™ŸÖÿ±€åŸÜÿßÿ™ÿå ÿ¢ÿ≤ŸÖŸàŸÜ‚ÄåŸáÿßÿå ⁄©ÿßÿ±ÿ™‚ÄåŸáÿß€å ŸÖŸÅŸáŸàŸÖ€å Ÿà ÿ®ÿ≥€åÿßÿ±€å ŸÅÿπÿßŸÑ€åÿ™ ÿ™ÿπÿßŸÖŸÑ€å ÿØ€å⁄Øÿ± ÿßÿ≥ÿ™ÿå ŸÖ€å ÿ™ŸàÿßŸÜ€åÿØ ÿ®ÿ±ÿßÿ≠ÿ™€å ÿ®ÿß ÿ¢ŸÜ ÿØÿ± ÿ™ÿπÿßŸÖŸÑ ÿ®ÿßÿ¥€åÿØ."
        ]
    },
    
    // Navigation Chapters
    chapters: [
        { id: "overview", title: "üìã ŸÜŸÖÿß€å ⁄©ŸÑ€å", type: "overview" },
        { id: "lesson", title: "üìñ ÿØÿ±ÿ≥ŸÜÿßŸÖŸá", type: "lesson" },
        { id: "glossary", title: "üìï Ÿàÿß⁄òŸá‚ÄåŸÜÿßŸÖŸá", type: "glossary" },
        { id: "practice", title: "‚úèÔ∏è ÿ¢ÿ≤ŸÖŸàŸÜ ÿ™ŸÖÿ±€åŸÜ€å", type: "practice" },
        { id: "graded", title: "üìä ÿ¢ÿ≤ŸÖŸàŸÜ ŸÜŸÖÿ±Ÿá‚ÄåÿØÿßÿ±", type: "graded" },
        { id: "cards", title: "üÉè ⁄©ÿßÿ±ÿ™‚ÄåŸáÿß€å ŸÖŸÅŸáŸàŸÖ€å", type: "cards" },
        { id: "drag", title: "üî§ ÿπÿ®ÿßÿ±ÿ™‚ÄåŸáÿß€å ⁄©ÿßŸÖŸÑ ⁄©ÿ±ÿØŸÜ€å", type: "drag" },
        { id: "vocab", title: "‚ùìÿ≥ŸàÿßŸÑÿßÿ™ ⁄ÜŸÜÿØ ⁄Øÿ≤€åŸÜŸá‚Äåÿß€å", type: "vocab" },
        { id: "open", title: "üí≠ ÿ≥ŸàÿßŸÑÿßÿ™ ÿ®ÿßÿ≤Ÿæÿßÿ≥ÿÆ", type: "open" },
        { id: "summary", title: "üìù ÿÆŸÑÿßÿµŸá", type: "summary" }
    ],
    
    // Overview Content
    overview: {
        objectives: [
            "ŸÖŸÅŸáŸàŸÖ ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ ÿ±ÿß ÿØÿ±⁄© ⁄©ŸÜ€åÿØ",
            "ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ®ÿß ŸáŸÖ ÿ¨ŸÖÿπ Ÿà ÿ™ŸÅÿ±€åŸÇ ⁄©ŸÜ€åÿØ",
            "ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿØÿ± ŸáŸÖ ÿ∂ÿ±ÿ® ⁄©ŸÜ€åÿØ",
            "ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ®ÿ± ŸáŸÖ ÿ™ŸÇÿ≥€åŸÖ ⁄©ŸÜ€åÿØ",
            "ÿØÿßŸÖŸÜŸá ÿ™Ÿàÿßÿ®ÿπ ÿ™ÿ±⁄©€åÿ®€å ÿ±ÿß ÿ™ÿπ€å€åŸÜ ⁄©ŸÜ€åÿØ",
            "ŸÜŸÖŸàÿØÿßÿ± ÿ™Ÿàÿßÿ®ÿπ ÿ™ÿ±⁄©€åÿ®€å ÿ±ÿß ÿ±ÿ≥ŸÖ ⁄©ŸÜ€åÿØ"
        ],
        syllabus: [
            { chapter: "€±", topic: "ÿ™ÿπÿ±€åŸÅ ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ", time: "€±€µ ÿØŸÇ€åŸÇŸá" },
            { chapter: "€≤", topic: "ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπ", time: "€≤€∞ ÿØŸÇ€åŸÇŸá" },
            { chapter: "€≥", topic: "ÿ™ŸÅÿ±€åŸÇ ÿ™Ÿàÿßÿ®ÿπ", time: "€±€µ ÿØŸÇ€åŸÇŸá" },
            { chapter: "€¥", topic: "ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ", time: "€±€µ ÿØŸÇ€åŸÇŸá" },
            { chapter: "€µ", topic: "ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπ", time: "€≤€∞ ÿØŸÇ€åŸÇŸá" },
            { chapter: "€∂", topic: "ÿ¨ÿØŸàŸÑ ÿÆŸÑÿßÿµŸá ÿπŸÖŸÑ€åÿßÿ™", time: "€≤€µ ÿØŸÇ€åŸÇŸá" },
            /*{ chapter: "€∑", topic: "ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± ÿ™Ÿàÿßÿ®ÿπ ÿ™ÿ±⁄©€åÿ®€å", time: "€≥€∞ ÿØŸÇ€åŸÇŸá" }*/
        ],
        prerequisites: [
            "ŸÖŸÅŸáŸàŸÖ ÿ™ÿßÿ®ÿπ Ÿà ÿØÿßŸÖŸÜŸá",
            "ÿ¨ŸÖÿπÿå ÿ™ŸÅÿ±€åŸÇÿå ÿ∂ÿ±ÿ® Ÿà ÿ™ŸÇÿ≥€åŸÖ ÿπÿ®ÿßÿ±ÿßÿ™ ÿ¨ÿ®ÿ±€å",
            "ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± ÿ™Ÿàÿßÿ®ÿπ ÿ≥ÿßÿØŸá",
            "ŸÖÿ¨ŸÖŸàÿπŸá‚ÄåŸáÿß Ÿà ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ¢ŸÜ‚ÄåŸáÿß"
        ]
    },
    
    // Glossary Terms
    glossary: [
        {
            term: "üìñ ÿ™ÿßÿ®ÿπ (Function)",
            definition: "ÿ™ÿßÿ®ÿπ €å⁄© ÿ±ÿßÿ®ÿ∑Ÿá ÿ±€åÿßÿ∂€å ÿßÿ≥ÿ™ ⁄©Ÿá Ÿáÿ± ÿπÿ∂Ÿà ÿßÿ≤ ŸÖÿ¨ŸÖŸàÿπŸá ÿßŸàŸÑ (ÿØÿßŸÖŸÜŸá) ÿ±ÿß ÿØŸÇ€åŸÇÿßŸã ÿ®Ÿá €å⁄© ÿπÿ∂Ÿà ÿßÿ≤ ŸÖÿ¨ŸÖŸàÿπŸá ÿØŸàŸÖ (ÿ®ÿ±ÿØ) ŸÜÿ≥ÿ®ÿ™ ŸÖ€å‚ÄåÿØŸáÿØ.",
            symbol: "\\(f: A \\rightarrow B\\) €åÿß \\(y = f(x)\\)",
            synonyms: "ŸÜ⁄Øÿßÿ¥ÿ™ÿå ÿßÿ±ÿ™ÿ®ÿßÿ∑ €å⁄©‚Äåÿ®Ÿá‚Äå€å⁄©"
        },
        {
            term: "üìê ÿØÿßŸÖŸÜŸá (Domain)",
            definition: "ŸÖÿ¨ŸÖŸàÿπŸá ÿ™ŸÖÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± Ÿàÿ±ŸàÿØ€å ⁄©Ÿá ÿ™ÿßÿ®ÿπ ÿ®ÿ±ÿß€å ÿ¢ŸÜ‚ÄåŸáÿß ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸá ÿßÿ≥ÿ™.",
            symbol: "\\(D_f\\) €åÿß \\(Dom(f)\\)",
            example: "ÿß⁄Øÿ± \\(f(x) = \\sqrt{x}\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\(D_f = \\{x | x \\geq 0\\}\\)"
        },
        {
            term: "üìä ÿ®ÿ±ÿØ (Range)",
            definition: "ŸÖÿ¨ŸÖŸàÿπŸá ÿ™ŸÖÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± ÿÆÿ±Ÿàÿ¨€å ⁄©Ÿá ÿ™ÿßÿ®ÿπ ŸÖ€å‚Äåÿ™ŸàÿßŸÜÿØ ÿ™ŸàŸÑ€åÿØ ⁄©ŸÜÿØ.",
            symbol: "\\(R_f\\) €åÿß \\(Ran(f)\\)",
            example: "ÿß⁄Øÿ± \\(f(x) = x^2\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\(R_f = \\{y | y \\geq 0\\}\\)"
        },
        {
            term: "‚ûï ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπ",
            definition: "ÿπŸÖŸÑ€åÿßÿ™€å ⁄©Ÿá ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ®ÿß ŸáŸÖ ÿ™ÿ±⁄©€åÿ® ⁄©ÿ±ÿØŸá Ÿà ÿ™ÿßÿ®ÿπ ÿ¨ÿØ€åÿØ€å ÿß€åÿ¨ÿßÿØ ŸÖ€å‚Äå⁄©ŸÜÿØ ⁄©Ÿá ŸÖŸÇÿØÿßÿ± ÿ¢ŸÜ ÿ®ÿ±ÿßÿ®ÿ± ŸÖÿ¨ŸÖŸàÿπ ŸÖŸÇÿßÿØ€åÿ± ÿØŸà ÿ™ÿßÿ®ÿπ ÿßÿµŸÑ€å ÿßÿ≥ÿ™.",
            formula: "\\((f + g)(x) = f(x) + g(x)\\)",
            note: "ÿØÿßŸÖŸÜŸá \\(f + g\\) ÿ®ÿ±ÿßÿ®ÿ± ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß€å \\(f\\) Ÿà \\(g\\) ÿßÿ≥ÿ™."
        },
        {
            term: "‚ûñ ÿ™ŸÅÿ±€åŸÇ ÿ™Ÿàÿßÿ®ÿπ",
            definition: "ÿπŸÖŸÑ€åÿßÿ™€å ⁄©Ÿá ŸÖŸÇÿØÿßÿ± €å⁄© ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿßÿ≤ ÿØ€å⁄Øÿ±€å ⁄©ŸÖ ŸÖ€å‚Äå⁄©ŸÜÿØ.",
            formula: "\\((f - g)(x) = f(x) - g(x)\\)",
            note: "\\((g - f)(x) = -(f - g)(x)\\)"
        },
        {
            term: "‚úñÔ∏è ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ",
            definition: "ÿπŸÖŸÑ€åÿßÿ™€å ⁄©Ÿá ŸÖŸÇÿßÿØ€åÿ± ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿØÿ± ŸáŸÖ ÿ∂ÿ±ÿ® ŸÖ€å‚Äå⁄©ŸÜÿØ.",
            formula: "\\((f \\times g)(x) = f(x) \\times g(x)\\)",
            note: "ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ ÿ¨ÿßÿ®ÿ¨ÿß€å€å‚ÄåŸæÿ∞€åÿ± ÿßÿ≥ÿ™: \\(f \\times g = g \\times f\\)"
        },
        {
            term: "‚ûó ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπ",
            definition: "ÿπŸÖŸÑ€åÿßÿ™€å ⁄©Ÿá €å⁄© ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ®ÿ± ÿØ€å⁄Øÿ±€å ÿ™ŸÇÿ≥€åŸÖ ŸÖ€å‚Äå⁄©ŸÜÿØ.",
            formula: "\\(\\left(\\frac{f}{g}\\right)(x) = \\frac{f(x)}{g(x)}\\)",
            warning: "ÿ®ÿß€åÿØ \\(g(x) \\neq 0\\) ÿ®ÿßÿ¥ÿØ. ŸÜŸÇÿßÿ∑€å ⁄©Ÿá \\(g(x) = 0\\) ÿßÿ≤ ÿØÿßŸÖŸÜŸá ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ."
        },
        {
            term: "üîÑ ÿßÿ¥ÿ™ÿ±ÿß⁄© ŸÖÿ¨ŸÖŸàÿπŸá‚ÄåŸáÿß",
            definition: "ŸÖÿ¨ŸÖŸàÿπŸá‚Äåÿß€å ⁄©Ÿá ÿ¥ÿßŸÖŸÑ ÿπŸÜÿßÿµÿ± ŸÖÿ¥ÿ™ÿ±⁄© ÿØŸà ŸÖÿ¨ŸÖŸàÿπŸá ÿßÿ≥ÿ™.",
            symbol: "\\(A \\cap B\\)",
            example: "ÿß⁄Øÿ± \\(A = \\{1, 2, 3\\}\\) Ÿà \\(B = \\{2, 3, 4\\}\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\(A \\cap B = \\{2, 3\\}\\)"
        }
    ],
    
    // Practice Questions (Ungraded)
    practiceQuestions: [
        {
            id: "pq1",
            question: "ÿß⁄Øÿ± \\(f = \\{(2, 0), (4, -1), (-1, 3)\\}\\) Ÿà \\(g = \\{(2, 5), (3, -1), (-1, 2)\\}\\)ÿå ÿ≠ÿßÿµŸÑ \\(f + g\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: [
                "\\(\\{(2, 5), (-1, 5)\\}\\)",
                "\\(\\{(2, 5), (4, 4), (-1, 5)\\}\\)",
                "\\(\\{(2, 5), (3, -1), (-1, 5)\\}\\)",
                "\\(\\{(2, 5), (-1, 5), (3, 2)\\}\\)"
            ],
            correct: 0,
            explanation: "ÿßÿ®ÿ™ÿØÿß ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿ≠Ÿàÿ≤Ÿá‚ÄåŸáÿß ÿ±ÿß Ÿæ€åÿØÿß ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ: {2, -1}. ÿ≥Ÿæÿ≥ ŸÖŸÇÿßÿØ€åÿ± ÿ±ÿß ÿ¨ŸÖÿπ ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ: f(2)+g(2)=0+5=5 Ÿà f(-1)+g(-1)=3+2=5"
        },
        {
            id: "pq2",
            question: "ÿØÿßŸÖŸÜŸá \\((f + g)\\) ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",
            options: [
                "\\(D_f \\cup D_g\\)",
                "\\(D_f \\cap D_g\\)",
                "\\(D_f - D_g\\)",
                "\\(D_g - D_f\\)"
            ],
            correct: 1,
            explanation: "ÿØÿßŸÖŸÜŸá ŸÖÿ¨ŸÖŸàÿπ ÿØŸà ÿ™ÿßÿ®ÿπ ÿ®ÿ±ÿßÿ®ÿ± ÿ®ÿß ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß€å ÿ™ÿπÿ±€åŸÅ ÿ¢ŸÜ‚ÄåŸáÿß ÿßÿ≥ÿ™ÿå ÿ≤€åÿ±ÿß Ÿáÿ± ÿØŸà ÿ™ÿßÿ®ÿπ ÿ®ÿß€åÿØ ÿØÿ± ÿ¢ŸÜ ŸÜŸÇÿ∑Ÿá ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸá ÿ®ÿßÿ¥ŸÜÿØ."
        },
        {
            id: "pq3",
            question: "ÿß⁄Øÿ± \\(f(x) = x^2 - 1\\) Ÿà \\(g(x) = x + 1\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f - g)(x)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: [
                "\\(x^2 + x\\)",
                "\\(x^2 - x - 2\\)",
                "\\(x^2 - x + 2\\)",
                "\\(x^2 + x - 2\\)"
            ],
            correct: 1,
            explanation: "\\((f - g)(x) = f(x) - g(x) = (x^2 - 1) - (x + 1) = x^2 - 1 - x - 1 = x^2 - x - 2\\)"
        },
        {
            id: "pq4",
            question: "ÿØÿ± ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπ \\(\\frac{f}{g}\\)ÿå ⁄©ÿØÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± ÿßÿ≤ ÿØÿßŸÖŸÜŸá ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàŸÜÿØÿü",
            options: [
                "ŸÖŸÇÿßÿØ€åÿ±€å ⁄©Ÿá \\(f(x) = 0\\)",
                "ŸÖŸÇÿßÿØ€åÿ±€å ⁄©Ÿá \\(g(x) = 0\\)",
                "ŸÖŸÇÿßÿØ€åÿ±€å ⁄©Ÿá \\(f(x) = g(x)\\)",
                "ŸÖŸÇÿßÿØ€åÿ±€å ⁄©Ÿá \\(f(x) \\neq g(x)\\)"
            ],
            correct: 1,
            explanation: "ÿØÿ± ÿ™ŸÇÿ≥€åŸÖÿå ŸÖÿÆÿ±ÿ¨ ŸÜÿ®ÿß€åÿØ ÿµŸÅÿ± ÿ¥ŸàÿØ. ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ ÿ™ŸÖÿßŸÖ x Ÿáÿß€å€å ⁄©Ÿá g(x) = 0 ÿßÿ≤ ÿØÿßŸÖŸÜŸá ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ."
        },
        {
            id: "pq5",
            question: "fillBlank",
            text: "ÿØÿßŸÖŸÜŸá \\(\\frac{f}{g}\\) ÿ®ÿ±ÿßÿ®ÿ± ÿßÿ≥ÿ™ ÿ®ÿß \\(D_f \\cap D_g - \\{x | g(x) = \\) ____________ \\(\\}\\)",
            correctAnswer: "0",
            explanation: "ÿØÿ± ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπÿå ŸÖÿÆÿ±ÿ¨ ŸÜÿ®ÿß€åÿØ ÿµŸÅÿ± ÿ®ÿßÿ¥ÿØÿå ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ g(x) ‚â† 0 ÿ®ÿß€åÿØ ÿ®ÿ±ŸÇÿ±ÿßÿ± ÿ®ÿßÿ¥ÿØ."
        },
        {
            id: "pq6",
            question: "trueFalse",
            text: "\\((f \\times g)(x) = f(x) \\times g(x) = g(x) \\times f(x) = (g \\times f)(x)\\)",
            correct: true,
            explanation: "ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ÿØÿßÿ±ÿØÿå ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ f √ó g = g √ó f ÿßÿ≥ÿ™."
        },
        {
            id: "pq7",
            question: "ÿß⁄Øÿ± \\(f(x) = 2x\\) Ÿà \\(g(x) = x + 3\\)ÿå ŸÖŸÇÿØÿßÿ± \\((f \\times g)(2)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["€±€∞", "€≤€∞", "€±€µ", "€∑"],
            correct: 1,
            explanation: "\\((f \\times g)(2) = f(2) \\times g(2) = (2 \\times 2) \\times (2+3) = 4 \\times 5 = 20\\)"
        },
        {
            id: "pq8",
            question: "ÿß⁄Øÿ± \\(f(x) = x^2 - 4\\) Ÿà \\(g(x) = x - 2\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\(\\frac{f}{g}(x)\\) ÿ®ÿ±ÿß€å \\(x \\neq 2\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: [
                "\\(x + 2\\)",
                "\\(x - 2\\)",
                "\\(x^2 - 2\\)",
                "\\(\\frac{x^2 - 4}{x - 2}\\)"
            ],
            correct: 0,
            explanation: "f(x) = x¬≤ - 4 = (x-2)(x+2)ÿå Ÿæÿ≥ f/g(x) = (x-2)(x+2)/(x-2) = x + 2 ÿ®ÿ±ÿß€å x ‚â† 2"
        },
        {
            id: "pq9",
            question: "ÿß⁄Øÿ± \\(D_f = \\{1, 2, 3, 4\\}\\) Ÿà \\(D_g = \\{2, 3, 5\\}\\)ÿå ÿØÿßŸÖŸÜŸá \\((f + g)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: [
                "\\(\\{1, 2, 3, 4, 5\\}\\)",
                "\\(\\{2, 3\\}\\)",
                "\\(\\{1, 4, 5\\}\\)",
                "\\(\\{1, 2, 3\\}\\)"
            ],
            correct: 1,
            explanation: "D(f+g) = Df ‚à© Dg = {1,2,3,4} ‚à© {2,3,5} = {2,3}"
        },
        {
            id: "pq10",
            question: "ÿß⁄Øÿ± \\(f(x) = 3x - 1\\) Ÿà \\(g(x) = x + 4\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f - g)(x)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: [
                "\\(4x + 3\\)",
                "\\(2x - 5\\)",
                "\\(2x + 3\\)",
                "\\(4x - 5\\)"
            ],
            correct: 1,
            explanation: "\\((f - g)(x) = f(x) - g(x) = (3x - 1) - (x + 4) = 3x - 1 - x - 4 = 2x - 5\\)"
        }
    ],
    
    // Graded Test Questions
    gradedQuestions: [
        {
            id: "gq1",
            question: "ÿß⁄Øÿ± \\(f = \\{(1, 2), (3, 4), (5, 6)\\}\\) Ÿà \\(g = \\{(1, 3), (3, 1), (5, 2)\\}\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f + g)(3)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["€≥", "€µ", "€∂", "€∑"],
            correct: 1
        },
        {
            id: "gq2",
            question: "ÿØÿßŸÖŸÜŸá \\((f - g)\\) ÿß⁄Øÿ± \\(D_f = \\mathbb{R}\\) Ÿà \\(D_g = \\mathbb{R}\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(\\emptyset\\)", "\\(\\mathbb{R}\\)", "\\(\\mathbb{Z}\\)", "\\(\\mathbb{Q}\\)"],
            correct: 1
        },
        {
            id: "gq3",
            question: "ÿß⁄Øÿ± \\(f(x) = x^2\\) Ÿà \\(g(x) = 2x\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f \\times g)(3)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["€±€≤", "€±€∏", "€≤€¥", "€∂"],
            correct: 1
        },
        {
            id: "gq4",
            question: "ÿß⁄Øÿ± \\(f(x) = x + 5\\) Ÿà \\(g(x) = x - 1\\)ÿå ⁄©ÿØÿßŸÖ x ÿßÿ≤ ÿØÿßŸÖŸÜŸá \\(\\frac{f}{g}\\) ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàÿØÿü",
            options: ["\\(x = 0\\)", "\\(x = 1\\)", "\\(x = -5\\)", "\\(x = 5\\)"],
            correct: 1
        },
        {
            id: "gq5",
            question: "ÿß⁄Øÿ± \\(f(x) = 4x\\) Ÿà \\(g(x) = x - 2\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f + g)(x)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(5x - 2\\)", "\\(4x - 2\\)", "\\(3x + 2\\)", "\\(5x + 2\\)"],
            correct: 0
        },
        {
            id: "gq6",
            question: "ÿß⁄Øÿ± \\(f(x) = x^2 + 1\\) Ÿà \\(g(x) = x\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f - g)(x)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(x^2 - x + 1\\)", "\\(x^2 + x + 1\\)", "\\(x^2 - x - 1\\)", "\\(x^2 + 1\\)"],
            correct: 0
        },
        {
            id: "gq7",
            question: "ÿß⁄Øÿ± \\(f(x) = \\sqrt{x}\\) Ÿà \\(g(x) = \\sqrt{4-x}\\)ÿå ÿØÿßŸÖŸÜŸá \\((f + g)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\([0, 4]\\)", "\\([0, \\infty)\\)", "\\((-\\infty, 4]\\)", "\\(\\mathbb{R}\\)"],
            correct: 0
        },
        {
            id: "gq8",
            question: "ÿß⁄Øÿ± \\(f(x) = \\frac{1}{x}\\) Ÿà \\(g(x) = \\frac{1}{x-1}\\)ÿå ⁄ÜŸÜÿØ ŸÖŸÇÿØÿßÿ± ÿßÿ≤ ÿØÿßŸÖŸÜŸá \\(\\frac{f}{g}\\) ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàÿØÿü",
            options: ["€± ŸÖŸÇÿØÿßÿ±", "€≤ ŸÖŸÇÿØÿßÿ±", "€≥ ŸÖŸÇÿØÿßÿ±", "Ÿá€å⁄Ü⁄©ÿØÿßŸÖ"],
            correct: 1
        },
        {
            id: "gq9",
            question: "ÿß⁄Øÿ± \\(f(x) = 5\\) Ÿà \\(g(x) = x^2\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\((f \\times g)(x)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(5x^2\\)", "\\(5 + x^2\\)", "\\(5x\\)", "\\(x^2\\)"],
            correct: 0
        },
        {
            id: "gq10",
            question: "ÿß⁄Øÿ± \\(f(x) = x - 3\\) Ÿà \\(g(x) = x + 3\\)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\(\\frac{f}{g}(x)\\) ÿ®ÿ±ÿß€å \\(x \\neq -3\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(1\\)", "\\(\\frac{x-3}{x+3}\\)", "\\(x^2 - 9\\)", "\\(\\frac{x+3}{x-3}\\)"],
            correct: 1
        }
    ],
    
    // Flash Cards
    flashcards: [
        { front: "ÿ™ÿßÿ®ÿπ", back: "ÿ±ÿßÿ®ÿ∑Ÿá‚Äåÿß€å ⁄©Ÿá Ÿáÿ± ÿπÿ∂Ÿà ŸÖÿ¨ŸÖŸàÿπŸá ÿßŸàŸÑ ÿ±ÿß ÿØŸÇ€åŸÇÿßŸã ÿ®Ÿá €å⁄© ÿπÿ∂Ÿà ŸÖÿ¨ŸÖŸàÿπŸá ÿØŸàŸÖ ŸÜÿ≥ÿ®ÿ™ ŸÖ€å‚ÄåÿØŸáÿØ." },
        { front: "ÿØÿßŸÖŸÜŸá", back: "ŸÖÿ¨ŸÖŸàÿπŸá ÿ™ŸÖÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± Ÿàÿ±ŸàÿØ€å ⁄©Ÿá ÿ™ÿßÿ®ÿπ ÿ®ÿ±ÿß€å ÿ¢ŸÜ‚ÄåŸáÿß ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸá ÿßÿ≥ÿ™." },
        { front: "ÿ®ÿ±ÿØ", back: "ŸÖÿ¨ŸÖŸàÿπŸá ÿ™ŸÖÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± ÿÆÿ±Ÿàÿ¨€å ⁄©Ÿá ÿ™ÿßÿ®ÿπ ŸÖ€å‚Äåÿ™ŸàÿßŸÜÿØ ÿ™ŸàŸÑ€åÿØ ⁄©ŸÜÿØ." },
        { front: "ÿ≥ŸÖÿ™ ÿØ€å⁄Øÿ± ÿ™ÿßÿ®ÿπ \\( (f + g)(x) = ? \\quad \\)", back: "\\(f(x) + g(x)\\) - ÿ¨ŸÖÿπ ÿØŸà ÿ™ÿßÿ®ÿπ" },
        { front: "ÿ≥ŸÖÿ™ ÿØ€å⁄Øÿ± ÿ™ÿßÿ®ÿπ \\((f - g)(x) = ? \\quad \\)", back: "\\(f(x) - g(x)\\) - ÿ™ŸÅÿ±€åŸÇ ÿØŸà ÿ™ÿßÿ®ÿπ" },
        { front: "ÿ≥ŸÖÿ™ ÿØ€å⁄Øÿ± ÿ™ÿßÿ®ÿπ \\((f \\times g)(x) = ? \\quad \\)", back: "\\(f(x) \\times g(x)\\) - ÿ∂ÿ±ÿ® ÿØŸà ÿ™ÿßÿ®ÿπ" },
        { front: "ÿ≥ŸÖÿ™ ÿØ€å⁄Øÿ± ÿ™ÿßÿ®ÿπ \\((f \\div g)(x) = ? \\quad \\)", back: "\\(f(x) \\div g(x)\\) - ÿ™ŸÇÿ≥€åŸÖ ÿØŸà ÿ™ÿßÿ®ÿπ (ÿ®ÿ±ÿß€å \\(g(x) \\neq 0\\))" },
        { front: "ÿß€åŸÜ ŸÜŸÖÿßÿØ ŸÖÿ±ÿ®Ÿàÿ∑ ÿ®Ÿá ⁄Ü€åÿ≥ÿ™ÿü\\(\\quad D_f \\cap D_g\\quad \\)", back: "ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß: ŸÖÿ±ÿ®Ÿàÿ∑ ÿ®Ÿá ÿØÿßŸÖŸÜŸá ÿ™Ÿàÿßÿ®ÿπ ÿ¨ŸÖÿπÿå ÿ™ŸÅÿ±€åŸÇ ÿå ÿ∂ÿ±ÿ® Ÿà ÿ™ŸÇÿ≥€åŸÖ ÿßÿ≥ÿ™. ÿØÿßŸÖŸÜŸá ÿ™ŸÇÿ≥€åŸÖ ⁄©ŸÖ€å ŸÖÿ™ŸÅÿßŸàÿ™ ÿßÿ≥ÿ™" },
        { front: "ŸÜ⁄©ÿ™Ÿá ÿ™ŸÇÿ≥€åŸÖ ÿü", back: "ÿØÿ± ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπÿå ŸÜŸÇÿßÿ∑€å ⁄©Ÿá \\( \\quad g(x) = 0 \\quad\\)Ÿáÿ≥ÿ™ŸÜÿØ Ÿà \\(\\quad g(x) \\quad\\) ÿØÿ± ŸÖÿÆÿ±ÿ¨ ÿ®ÿßÿ¥ÿØÿå ÿßÿ≤ ÿØÿßŸÖŸÜŸá ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ." },
        { front: "ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å", back: "ÿ¨ŸÖÿπ Ÿà ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ÿØÿßÿ±ŸÜÿØ: \\(\\quad f + g = g + f \\quad \\land \\quad f\\times g = g \\times f \\quad\\)" },
        { front: "ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± \\(f + g\\quad\\)", back: "ÿ®ÿ±ÿß€å Ÿáÿ± \\(x\\)ÿå ŸÖŸÇÿØÿßÿ± \\(f(x) + g(x)\\) ÿ±ÿß ŸÖÿ≠ÿßÿ≥ÿ®Ÿá Ÿà ŸÜŸÇÿ∑Ÿá ÿ±ÿß ÿ±ÿ≥ŸÖ ⁄©ŸÜ€åÿØ." },
        { front: "ÿ™ÿßÿ®ÿπ ÿ´ÿßÿ®ÿ™", back: "ÿ™ÿßÿ®ÿπ€å ⁄©Ÿá ŸÖŸÇÿØÿßÿ± ÿ¢ŸÜ ÿ®ÿ±ÿß€å ŸáŸÖŸá Ÿàÿ±ŸàÿØ€å‚ÄåŸáÿß €å⁄©ÿ≥ÿßŸÜ ÿßÿ≥ÿ™: \\(f(x) = c\\)" },
        { front: "\\(\\quad (f - g)\\quad \\) Ÿà \\(\\quad(g - f) \\quad \\) ŸÜÿ≥ÿ®ÿ™ ÿ®Ÿá ŸáŸÖ ⁄Ü⁄ØŸàŸÜŸá‚ÄåÿßŸÜÿØÿü", back: "ŸÇÿ±€åŸÜŸá €å⁄©ÿØ€å⁄Øÿ±ŸÜÿØ: \\((f - g) = -(g - f)\\)" }
    ],
    
    // Drag the Words Exercises
    dragExercises: [
        {
            sentence: "ÿØÿßŸÖŸÜŸá ŸÖÿ¨ŸÖŸàÿπ ÿØŸà ÿ™ÿßÿ®ÿπ ÿ®ÿ±ÿßÿ®ÿ± ÿ®ÿß __________ ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß€å ÿ™ÿπÿ±€åŸÅ ÿ¢ŸÜ‚ÄåŸáÿß ÿßÿ≥ÿ™.",
            answer: "ÿßÿ¥ÿ™ÿ±ÿß⁄©",
            options: ["ÿßÿ¥ÿ™ÿ±ÿß⁄©", "ÿßÿ¨ÿ™ŸÖÿßÿπ", "ÿ™ŸÅÿßÿ∂ŸÑ"]
        },
        {
            sentence: "ÿØÿ± ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπÿå ŸÜŸÇÿßÿ∑€å ⁄©Ÿá __________ ÿµŸÅÿ± ŸÖ€å‚Äåÿ¥ŸàÿØ ÿ®ÿß€åÿØ ÿßÿ≤ ÿØÿßŸÖŸÜŸá ÿ≠ÿ∞ŸÅ ÿ¥ŸàŸÜÿØ.",
            answer: "ŸÖÿÆÿ±ÿ¨",
            options: ["ŸÖÿÆÿ±ÿ¨", "ÿµŸàÿ±ÿ™", "⁄©ÿ≥ÿ±"]
        },
        {
            sentence: "ÿπŸÖŸÑ€åÿßÿ™ ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπ ÿÆÿßÿµ€åÿ™ __________ ÿØÿßÿ±ÿØ.",
            answer: "ÿ¨ÿßÿ®ÿ¨ÿß€å€å",
            options: ["ÿ¨ÿßÿ®ÿ¨ÿß€å€å", "ÿßŸÜÿ¨ŸÖŸÜ€å", "ÿ™Ÿàÿ≤€åÿπ"]
        },
        {
            sentence: "ŸÅÿ±ŸÖŸàŸÑ ÿ™ŸÅÿ±€åŸÇ ÿØŸà ÿ™ÿßÿ®ÿπ: __________ = f(x) - g(x)",
            answer: "(f-g)(x)",
            options: ["(f-g)(x)", "(f+g)(x)", "(f√óg)(x)"]
        },
        {
            sentence: "ÿ®ÿ±ÿß€å ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± ÿ™ÿßÿ®ÿπ f+gÿå ŸÜŸÖŸàÿØÿßÿ±Ÿáÿß€å f Ÿà g ÿ±ÿß ÿØÿ± Ÿáÿ± ŸÜŸÇÿ∑Ÿá __________ ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ.",
            answer: "ÿ¨ŸÖÿπ",
            options: ["ÿ¨ŸÖÿπ", "ÿ™ŸÅÿ±€åŸÇ", "ÿ∂ÿ±ÿ®"]
        }
    ],
    
    // Vocabulary Questions
    vocabQuestions: [
        {
            question: "ŸÖÿ¨ŸÖŸàÿπŸá ÿ™ŸÖÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± Ÿàÿ±ŸàÿØ€å ⁄©Ÿá ÿ™ÿßÿ®ÿπ ÿ®ÿ±ÿß€å ÿ¢ŸÜ‚ÄåŸáÿß ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸáÿå ⁄ÜŸá ŸÜÿßŸÖ ÿØÿßÿ±ÿØÿü",
            options: ["ÿ®ÿ±ÿØ", "ÿØÿßŸÖŸÜŸá", "ÿ™ÿ®ÿØ€åŸÑ"],
            correct: 1
        },
        {
            question: "⁄©ÿØÿßŸÖ ÿπŸÖŸÑ€åÿßÿ™ ŸÜ€åÿßÿ≤ ÿ®Ÿá ÿ®ÿ±ÿ±ÿ≥€å ÿµŸÅÿ± ŸÜÿ®ŸàÿØŸÜ ŸÖÿÆÿ±ÿ¨ ÿØÿßÿ±ÿØÿü",
            options: ["ÿ¨ŸÖÿπ", "ÿ™ŸÅÿ±€åŸÇ", "ÿ™ŸÇÿ≥€åŸÖ"],
            correct: 2
        },
        {
            question: "ŸÜŸÖÿßÿØ \\(D_f \\cap D_g\\) ŸÜÿ¥ÿßŸÜ‚ÄåÿØŸáŸÜÿØŸá ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["ÿßÿ¨ÿ™ŸÖÿßÿπ ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß", "ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß", "ÿ™ŸÅÿßÿ∂ŸÑ ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß"],
            correct: 1
        },
        {
            question: "ÿß⁄Øÿ± \\(f(x) = x^2\\)ÿå ŸÖŸÇÿØÿßÿ± \\(f(-3)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["€∂", "€π-", "€π"],
            correct: 2
        },
        {
            question: "⁄©ÿØÿßŸÖ ⁄Øÿ≤€åŸÜŸá ÿØÿ± ŸÖŸàÿ±ÿØ ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™ÿü",
            options: ["ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ŸÜÿØÿßÿ±ÿØ", "ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ÿØÿßÿ±ÿØ", "ŸáŸÖ€åÿ¥Ÿá ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸá ÿßÿ≥ÿ™"],
            correct: 1
        },
        {
            question: "ŸÅÿ±ŸÖŸàŸÑ \\((f+g)(x)\\) ⁄©ÿØÿßŸÖ ÿßÿ≥ÿ™ÿü",
            options: ["f(x) + g(x)", "f(x) - g(x)", "f(x) √ó g(x)"],
            correct: 0
        },
        {
            question: "⁄©ÿØÿßŸÖ ŸÖÿ¨ŸÖŸàÿπŸá ÿßÿ≤ ÿØÿßŸÖŸÜŸá \\(f \\times g\\) ÿ≠ÿ∞ŸÅ ŸÜŸÖ€å‚Äåÿ¥ŸàÿØÿü",
            options: ["\\(D_f - D_g\\)", "\\(D_f \\cap D_g\\)", "\\(\\{x | g(x) = 0\\}\\)"],
            correct: 1
        },
        {
            question: "ÿ™ÿßÿ®ÿπ \\(f(x) = \\sqrt{x}\\) ÿ®ÿ±ÿß€å ⁄©ÿØÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸáÿü",
            options: ["\\(x \\geq 0\\)", "\\(x > 0\\)", "ŸáŸÖŸá ÿßÿπÿØÿßÿØ ÿ≠ŸÇ€åŸÇ€å"],
            correct: 0
        },
        {
            question: "ÿß⁄Øÿ± \\(f = \\{(1,2), (2,4)\\}\\)ÿå ŸÖŸÇÿØÿßÿ± f(1) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["€±", "€≤", "€¥"],
            correct: 1
        },
        {
            question: "\\((f-g)(x)\\) Ÿà \\((g-f)(x)\\) ⁄ÜŸá ÿßÿ±ÿ™ÿ®ÿßÿ∑€å ÿØÿßÿ±ŸÜÿØÿü",
            options: ["ÿ®ÿ±ÿßÿ®ÿ±ŸÜÿØ", "ŸÇÿ±€åŸÜŸá €å⁄©ÿØ€å⁄Øÿ±ŸÜÿØ", "ŸÖÿ±ÿ™ÿ®ÿ∑ ŸÜ€åÿ≥ÿ™ŸÜÿØ"],
            correct: 1
        },
        {
            question: "ÿß⁄Øÿ± \\(g(x) = 0\\) ÿ®ÿ±ÿß€å €å⁄© x ÿÆÿßÿµÿå ÿ¢ŸÜ x ÿßÿ≤ ÿØÿßŸÖŸÜŸá ⁄©ÿØÿßŸÖ ÿπŸÖŸÑ€åÿßÿ™ ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äåÿ¥ŸàÿØÿü",
            options: ["ÿ¨ŸÖÿπ Ÿà ÿ™ŸÅÿ±€åŸÇ", "ÿ∂ÿ±ÿ® Ÿà ÿ™ŸÇÿ≥€åŸÖ", "ŸÅŸÇÿ∑ ÿ™ŸÇÿ≥€åŸÖ"],
            correct: 2
        },
        {
            question: "ÿØÿßŸÖŸÜŸá \\(\\frac{f}{g}\\) ÿπŸÑÿßŸàŸá ÿ®ÿ± ÿßÿ¥ÿ™ÿ±ÿß⁄©ÿå ⁄ÜŸá ŸÖÿ¨ŸÖŸàÿπŸá‚Äåÿß€å ÿ±ÿß ÿ≠ÿ∞ŸÅ ŸÖ€å‚Äå⁄©ŸÜÿØÿü",
            options: ["\\(\\{x | f(x) = 0\\}\\)", "\\(\\{x | g(x) = 0\\}\\)", "\\(\\{x | f(x) = g(x)\\}\\)"],
            correct: 1
        },
        {
            question: "⁄©ÿØÿßŸÖ ÿπŸÖŸÑ€åÿßÿ™ ŸáŸÖ€åÿ¥Ÿá ÿ®ÿ±ÿß€å ÿ™ŸÖÿßŸÖ x ÿØÿ± ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß ÿ™ÿπÿ±€åŸÅ ÿ¥ÿØŸáÿü",
            options: ["ÿ™ŸÇÿ≥€åŸÖ", "ÿ¨ŸÖÿπ", "Ÿá€å⁄Ü⁄©ÿØÿßŸÖ"],
            correct: 1
        },
        {
            question: "ŸÜŸÖÿßÿØ ÿ™ÿßÿ®ÿπ f ÿ∂ÿ±ÿ® ÿØÿ± g ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(f + g\\)", "\\(f \\times g\\)", "\\(f \\circ g\\)"],
            correct: 1
        },
        {
            question: "ÿß⁄Øÿ± \\(f(x) = c\\) (ÿ™ÿßÿ®ÿπ ÿ´ÿßÿ®ÿ™)ÿå ÿ¢ŸÜ⁄ØÿßŸá \\(f \\times g\\) ⁄Ü€åÿ≥ÿ™ÿü",
            options: ["\\(c \\times g(x)\\)", "\\(c + g(x)\\)", "\\(g(x)\\)"],
            correct: 0
        }
    ],
    
    // Open-Ended Questions
    openQuestions: [
        {
            question: "⁄Üÿ±ÿß ÿØÿßŸÖŸÜŸá ÿ™Ÿàÿßÿ®ÿπ ÿ™ÿ±⁄©€åÿ®€å ÿßŸáŸÖ€åÿ™ ÿØÿßÿ±ÿØÿü ÿ™Ÿàÿ∂€åÿ≠ ÿØŸá€åÿØ.",
            answer: "ÿØÿßŸÖŸÜŸá ÿßŸáŸÖ€åÿ™ ÿØÿßÿ±ÿØ ÿ≤€åÿ±ÿß ŸÖÿ¥ÿÆÿµ ŸÖ€å‚Äå⁄©ŸÜÿØ ÿ®ÿ±ÿß€å ⁄©ÿØÿßŸÖ ŸÖŸÇÿßÿØ€åÿ± Ÿàÿ±ŸàÿØ€åÿå ÿ™ÿßÿ®ÿπ ÿÆÿ±Ÿàÿ¨€å ŸÖÿπÿ™ÿ®ÿ± ÿ™ŸàŸÑ€åÿØ ŸÖ€å‚Äå⁄©ŸÜÿØ. ÿØÿ± ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπÿå ÿß⁄Øÿ± x ÿØÿ± ÿØÿßŸÖŸÜŸá €å⁄©€å ÿßÿ≤ ÿ™Ÿàÿßÿ®ÿπ ŸÜÿ®ÿßÿ¥ÿØÿå ŸÜŸÖ€å‚Äåÿ™ŸàÿßŸÜ€åŸÖ ÿπŸÖŸÑ€åÿßÿ™ ÿ±ÿß ÿßŸÜÿ¨ÿßŸÖ ÿØŸá€åŸÖ. ÿ®Ÿá‚ÄåŸà€å⁄òŸá ÿØÿ± ÿ™ŸÇÿ≥€åŸÖÿå ÿ®ÿß€åÿØ ŸÖÿ∑ŸÖÿ¶ŸÜ ÿ¥Ÿà€åŸÖ ŸÖÿÆÿ±ÿ¨ ÿµŸÅÿ± ŸÜÿ¥ŸàÿØ."
        },
        {
            question: "ÿ™ŸÅÿßŸàÿ™ ÿØÿßŸÖŸÜŸá ÿØÿ± ÿ¨ŸÖÿπ Ÿà ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπ ⁄Ü€åÿ≥ÿ™ÿü",
            answer: "ÿØÿ± ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπÿå ÿØÿßŸÖŸÜŸá ÿ®ÿ±ÿßÿ®ÿ± ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß€å ÿØŸà ÿ™ÿßÿ®ÿπ ÿßÿ≥ÿ™. ÿßŸÖÿß ÿØÿ± ÿ™ŸÇÿ≥€åŸÖÿå ÿπŸÑÿßŸàŸá ÿ®ÿ± ÿßÿ¥ÿ™ÿ±ÿß⁄©ÿå ÿ®ÿß€åÿØ ŸÜŸÇÿßÿ∑€å ⁄©Ÿá ŸÖÿÆÿ±ÿ¨ ÿµŸÅÿ± ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ ŸÜ€åÿ≤ ÿ≠ÿ∞ŸÅ ÿ¥ŸàŸÜÿØ. ÿß€åŸÜ ÿ™ŸÅÿßŸàÿ™ ŸÖŸáŸÖ ÿ®ÿßÿπÿ´ ŸÖ€å‚Äåÿ¥ŸàÿØ ÿØÿßŸÖŸÜŸá ÿ™ŸÇÿ≥€åŸÖ ŸáŸÖ€åÿ¥Ÿá ⁄©Ÿà⁄Ü⁄©ÿ™ÿ± €åÿß ŸÖÿ≥ÿßŸà€å ÿØÿßŸÖŸÜŸá ÿ¨ŸÖÿπ ÿ®ÿßÿ¥ÿØ."
        },
        {
            question: "⁄Üÿ±ÿß ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ÿØÿßÿ±ÿØÿü ŸÖÿ´ÿßŸÑ ÿ®ÿ≤ŸÜ€åÿØ.",
            answer: "ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ÿØÿßÿ±ÿØ ÿ≤€åÿ±ÿß ÿ∂ÿ±ÿ® ÿßÿπÿØÿßÿØ ÿ≠ŸÇ€åŸÇ€å ÿ¨ÿßÿ®ÿ¨ÿß€å€å‚ÄåŸæÿ∞€åÿ± ÿßÿ≥ÿ™. ÿ®Ÿá ÿπÿ®ÿßÿ±ÿ™ ÿØ€å⁄Øÿ±ÿå f(x) √ó g(x) = g(x) √ó f(x). ŸÖÿ´ÿßŸÑ: ÿß⁄Øÿ± f(x) = 2x Ÿà g(x) = x + 1ÿå ÿ¢ŸÜ⁄ØÿßŸá f √ó g = 2x(x+1) = 2x¬≤ + 2x Ÿà g √ó f = (x+1)2x = 2x¬≤ + 2x ⁄©Ÿá ÿ®ÿ±ÿßÿ®ÿ±ŸÜÿØ."
        },
        {
            question: "ÿß⁄Øÿ± \\(f(x) = x^2\\) Ÿà \\(g(x) = x^3\\)ÿå ÿØÿßŸÖŸÜŸá \\((f/g)(x)\\) ⁄Ü€åÿ≥ÿ™ÿü",
            answer: "ÿØÿßŸÖŸÜŸá f ÿ®ÿ±ÿßÿ®ÿ± ÿ™ŸÖÿßŸÖ ÿßÿπÿØÿßÿØ ÿ≠ŸÇ€åŸÇ€å (‚Ñù) ÿßÿ≥ÿ™. ÿØÿßŸÖŸÜŸá g ŸÜ€åÿ≤ ÿ®ÿ±ÿßÿ®ÿ± ‚Ñù ÿßÿ≥ÿ™. ÿßÿ¥ÿ™ÿ±ÿß⁄©: ‚Ñù. ÿßŸÖÿß ÿ®ÿß€åÿØ ŸÜŸÇÿßÿ∑€å ⁄©Ÿá g(x) = 0 ÿ±ÿß ÿ≠ÿ∞ŸÅ ⁄©ŸÜ€åŸÖ: x¬≥ = 0 €åÿπŸÜ€å x = 0. ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ ÿØÿßŸÖŸÜŸá f/g ÿ®ÿ±ÿßÿ®ÿ± ‚Ñù - {0} ÿßÿ≥ÿ™."
        },
        {
            question: "⁄Ü⁄ØŸàŸÜŸá ŸÖ€å‚Äåÿ™ŸàÿßŸÜ ŸÜŸÖŸàÿØÿßÿ± \\((f + g)\\) ÿ±ÿß ÿßÿ≤ ŸÜŸÖŸàÿØÿßÿ±Ÿáÿß€å f Ÿà g ÿ®Ÿá ÿØÿ≥ÿ™ ÿ¢Ÿàÿ±ÿØÿü",
            answer: "ÿ®ÿ±ÿß€å ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± f + gÿå ÿØÿ± Ÿáÿ± ŸÜŸÇÿ∑Ÿá x ÿßÿ≤ ÿØÿßŸÖŸÜŸá ŸÖÿ¥ÿ™ÿ±⁄©ÿå ŸÖŸÇÿØÿßÿ± f(x) ÿ±ÿß ÿ®ÿß g(x) ÿ¨ŸÖÿπ ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ Ÿà ŸÜŸÇÿ∑Ÿá (x, f(x) + g(x)) ÿ±ÿß ÿ±Ÿà€å ŸÜŸÖŸàÿØÿßÿ± ŸÇÿ±ÿßÿ± ŸÖ€å‚ÄåÿØŸá€åŸÖ. ÿ®Ÿá ÿπÿ®ÿßÿ±ÿ™ ÿØ€å⁄Øÿ±ÿå ÿßÿ±ÿ™ŸÅÿßÿπ ŸÜŸÖŸàÿØÿßÿ± f + g ÿØÿ± Ÿáÿ± ŸÜŸÇÿ∑Ÿáÿå ŸÖÿ¨ŸÖŸàÿπ ÿßÿ±ÿ™ŸÅÿßÿπ‚ÄåŸáÿß€å ŸÜŸÖŸàÿØÿßÿ±Ÿáÿß€å f Ÿà g ÿØÿ± ÿ¢ŸÜ ŸÜŸÇÿ∑Ÿá ÿßÿ≥ÿ™."
        },
        {
            question: "ÿ¢€åÿß \\((f - g)(x)\\) ÿ®ÿ±ÿßÿ®ÿ± \\((g - f)(x)\\) ÿßÿ≥ÿ™ÿü ⁄Üÿ±ÿßÿü",
            answer: "ÿÆ€åÿ±ÿå ÿß€åŸÜ ÿØŸà ÿ®ÿ±ÿßÿ®ÿ± ŸÜ€åÿ≥ÿ™ŸÜÿØ. (f - g)(x) = f(x) - g(x) Ÿà (g - f)(x) = g(x) - f(x) = -(f(x) - g(x)) = -(f - g)(x). ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ (g - f) ŸÇÿ±€åŸÜŸá (f - g) ÿßÿ≥ÿ™ Ÿà ÿ™ŸÜŸáÿß ÿØÿ± ÿµŸàÿ±ÿ™€å ÿ®ÿ±ÿßÿ®ÿ± ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ ⁄©Ÿá Ÿáÿ± ÿØŸà ÿµŸÅÿ± ÿ®ÿßÿ¥ŸÜÿØ."
        },
        {
            question: "ÿß⁄Øÿ± f Ÿà g Ÿáÿ± ÿØŸà ÿ™ÿßÿ®ÿπ ÿ´ÿßÿ®ÿ™ ÿ®ÿßÿ¥ŸÜÿØÿå \\(f + g\\) ⁄ÜŸá ŸÜŸàÿπ ÿ™ÿßÿ®ÿπ€å ÿßÿ≥ÿ™ÿü",
            answer: "ÿß⁄Øÿ± f(x) = a Ÿà g(x) = b (⁄©Ÿá a Ÿà b ÿ´ÿßÿ®ÿ™‚ÄåÿßŸÜÿØ)ÿå ÿ¢ŸÜ⁄ØÿßŸá (f + g)(x) = a + b ⁄©Ÿá €å⁄© ÿ™ÿßÿ®ÿπ ÿ´ÿßÿ®ÿ™ ÿ®ÿß ŸÖŸÇÿØÿßÿ± a + b ÿßÿ≥ÿ™. ÿ®Ÿá ÿπÿ®ÿßÿ±ÿ™ ÿØ€å⁄Øÿ±ÿå ŸÖÿ¨ŸÖŸàÿπ ÿØŸà ÿ™ÿßÿ®ÿπ ÿ´ÿßÿ®ÿ™ÿå €å⁄© ÿ™ÿßÿ®ÿπ ÿ´ÿßÿ®ÿ™ ÿØ€å⁄Øÿ± ÿßÿ≥ÿ™."
        },
        {
            question: "⁄ÜŸá ÿ≤ŸÖÿßŸÜ€å \\((f \\times g)(x) = 0\\) ŸÖ€å‚Äåÿ¥ŸàÿØÿü",
            answer: "ÿ∂ÿ±ÿ® ÿØŸà ÿπÿØÿØ ÿ≤ŸÖÿßŸÜ€å ÿµŸÅÿ± ŸÖ€å‚Äåÿ¥ŸàÿØ ⁄©Ÿá ÿ≠ÿØÿßŸÇŸÑ €å⁄©€å ÿßÿ≤ ÿ¢ŸÜ‚ÄåŸáÿß ÿµŸÅÿ± ÿ®ÿßÿ¥ÿØ. ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ (f √ó g)(x) = 0 ÿß⁄Øÿ± f(x) = 0 €åÿß g(x) = 0 (€åÿß Ÿáÿ± ÿØŸà). ÿß€åŸÜ €åÿπŸÜ€å ÿ±€åÿ¥Ÿá‚ÄåŸáÿß€å ÿ™ÿßÿ®ÿπ ÿ≠ÿßÿµŸÑ‚Äåÿ∂ÿ±ÿ®ÿå ÿßÿ¨ÿ™ŸÖÿßÿπ ÿ±€åÿ¥Ÿá‚ÄåŸáÿß€å ÿØŸà ÿ™ÿßÿ®ÿπ ÿßÿµŸÑ€å ÿßÿ≥ÿ™."
        },
        {
            question: "ÿß⁄Øÿ± \\(f(x) = \\sqrt{x}\\) Ÿà \\(g(x) = \\sqrt{4-x}\\)ÿå ÿØÿßŸÖŸÜŸá \\((f + g)\\) ÿ±ÿß ÿ®€åÿßÿ®€åÿØ.",
            answer: "ÿØÿßŸÖŸÜŸá f: x ‚â• 0. ÿØÿßŸÖŸÜŸá g: 4 - x ‚â• 0 €åÿπŸÜ€å x ‚â§ 4. ÿßÿ¥ÿ™ÿ±ÿß⁄©: 0 ‚â§ x ‚â§ 4 €åÿπŸÜ€å [0, 4]. ⁄ÜŸàŸÜ ÿπŸÖŸÑ€åÿßÿ™ ÿ¨ŸÖÿπ ÿßÿ≥ÿ™ÿå ŸÜ€åÿßÿ≤€å ÿ®Ÿá ÿ≠ÿ∞ŸÅ ŸÜŸÇÿßÿ∑ ÿßÿ∂ÿßŸÅ€å ŸÜ€åÿ≥ÿ™. ÿ®ŸÜÿßÿ®ÿ±ÿß€åŸÜ ÿØÿßŸÖŸÜŸá f + g ÿ®ÿ±ÿßÿ®ÿ± [0, 4] ÿßÿ≥ÿ™."
        },
        {
            question: "ÿßŸáŸÖ€åÿ™ €åÿßÿØ⁄Ø€åÿ±€å ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ ÿØÿ± ÿ≤ŸÜÿØ⁄Ø€å ŸàÿßŸÇÿπ€å ⁄Ü€åÿ≥ÿ™ÿü",
            answer: "ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ ÿØÿ± ÿ®ÿ≥€åÿßÿ±€å ÿßÿ≤ ⁄©ÿßÿ±ÿ®ÿ±ÿØŸáÿß€å ÿπŸÖŸÑ€å ÿßÿ≥ÿ™ŸÅÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ: ŸÖÿ≠ÿßÿ≥ÿ®Ÿá ÿ≥ŸàÿØ ⁄©ŸÑ ÿßÿ≤ ⁄ÜŸÜÿØ ŸÖŸÜÿ®ÿπ (ÿ¨ŸÖÿπ)ÿå ŸÖÿ≠ÿßÿ≥ÿ®Ÿá ÿßÿÆÿ™ŸÑÿßŸÅ ÿØÿ±ÿ¢ŸÖÿØ Ÿà Ÿáÿ≤€åŸÜŸá (ÿ™ŸÅÿ±€åŸÇ)ÿå ŸÖÿ≠ÿßÿ≥ÿ®Ÿá ŸÖÿ≥ÿßŸÅÿ™ ÿßÿ≤ ÿ≥ÿ±ÿπÿ™ Ÿà ÿ≤ŸÖÿßŸÜ (ÿ∂ÿ±ÿ®)ÿå ŸÖÿ≠ÿßÿ≥ÿ®Ÿá ŸÜÿ±ÿÆ €åÿß ŸÜÿ≥ÿ®ÿ™ (ÿ™ŸÇÿ≥€åŸÖ). ÿØÿ± ŸÖŸáŸÜÿØÿ≥€åÿå ÿßŸÇÿ™ÿµÿßÿØÿå ŸÅ€åÿ≤€å⁄© Ÿà ÿπŸÑŸàŸÖ ÿØ€å⁄Øÿ±ÿå ÿ™ÿ±⁄©€åÿ® ÿ™Ÿàÿßÿ®ÿπ ÿ®ÿ±ÿß€å ŸÖÿØŸÑ‚Äåÿ≥ÿßÿ≤€å ŸæÿØ€åÿØŸá‚ÄåŸáÿß€å Ÿæ€å⁄Ü€åÿØŸá ÿ∂ÿ±Ÿàÿ±€å ÿßÿ≥ÿ™."
        }
    ],
    
    // Summary Content
    summary: {
        keyPoints: [
            { title: "ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπ", formula: "\\((f + g)(x) = f(x) + g(x)\\)", domain: "\\(D_f \\cap D_g\\)" },
            { title: "ÿ™ŸÅÿ±€åŸÇ ÿ™Ÿàÿßÿ®ÿπ", formula: "\\((f - g)(x) = f(x) - g(x)\\)", domain: "\\(D_f \\cap D_g\\)" },
            { title: "ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ", formula: "\\((f \\times g)(x) = f(x) \\times g(x)\\)", domain: "\\(D_f \\cap D_g\\)" },
            { title: "ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπ", formula: "\\(\\left(\\frac{f}{g}\\right)(x) = \\frac{f(x)}{g(x)}\\)", domain: "\\(D_f \\cap D_g - \\{x | g(x) = 0\\}\\)" }
        ],
        tips: [
            "ŸÇÿ®ŸÑ ÿßÿ≤ ÿßŸÜÿ¨ÿßŸÖ Ÿáÿ± ÿπŸÖŸÑ€åÿßÿ™ÿå ÿ≠ÿ™ŸÖÿßŸã ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß ÿ±ÿß ÿ®ÿ±ÿ±ÿ≥€å ⁄©ŸÜ€åÿØ",
            "ÿØÿ± ÿ™ŸÇÿ≥€åŸÖÿå ŸáŸÖ€åÿ¥Ÿá ŸÖÿ∑ŸÖÿ¶ŸÜ ÿ¥Ÿà€åÿØ ŸÖÿÆÿ±ÿ¨ ÿµŸÅÿ± ŸÜŸÖ€å‚Äåÿ¥ŸàÿØ",
            "ÿ∂ÿ±ÿ® Ÿà ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπ ÿÆÿßÿµ€åÿ™ ÿ¨ÿßÿ®ÿ¨ÿß€å€å ÿØÿßÿ±ŸÜÿØ",
            "ÿ®ÿ±ÿß€å ÿ±ÿ≥ŸÖ ŸÜŸÖŸàÿØÿßÿ± ÿ™ÿßÿ®ÿπ ÿ™ÿ±⁄©€åÿ®€åÿå ŸÜŸÖŸàÿØÿßÿ±Ÿáÿß ÿ±ÿß ŸÜŸÇÿ∑Ÿá ÿ®Ÿá ŸÜŸÇÿ∑Ÿá ÿ®ÿß ŸáŸÖ ÿ™ÿ±⁄©€åÿ® ⁄©ŸÜ€åÿØ"
        ],
        achievements: [
            "ŸÖŸÅŸáŸàŸÖ ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ ÿ±ÿß ÿØÿ±⁄© ⁄©ŸÜ€åÿØ",
            "ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ¨ŸÖÿπ Ÿà ÿ™ŸÅÿ±€åŸÇ ⁄©ŸÜ€åÿØ",
            "ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿØÿ± ŸáŸÖ ÿ∂ÿ±ÿ® ⁄©ŸÜ€åÿØ",
            "ÿØŸà ÿ™ÿßÿ®ÿπ ÿ±ÿß ÿ®ÿ± ŸáŸÖ ÿ™ŸÇÿ≥€åŸÖ ⁄©ŸÜ€åÿØ",
            "ÿØÿßŸÖŸÜŸá ÿ™Ÿàÿßÿ®ÿπ ÿ™ÿ±⁄©€åÿ®€å ÿ±ÿß ÿ™ÿπ€å€åŸÜ ⁄©ŸÜ€åÿØ"
        ]
    }
};
// ============================================
// END OF BOOK DATA
// ============================================


// ============================================
// PAGE RENDERER
// ============================================
let currentCard = 0;
let currentOpenCard = 0;
let practiceAnswers = {};
let gradedAnswers = {};
let vocabAnswers = {};

// Initialize the book
function initBook() {
    renderCover();
    renderNavigation();
    renderChapters();
    // make sure blank-space elements can accept drops
    setupDragListeners();
    if (window.MathJax) {
        MathJax.typeset();
    }
}

// Render Cover Page
function renderCover() {
    document.getElementById('cover-title').textContent = BOOK_DATA.cover.title;
    document.getElementById('cover-subtitle').textContent = BOOK_DATA.cover.subtitle;
    document.getElementById('cover-author').textContent = BOOK_DATA.cover.author;
    document.getElementById('cover-version').textContent = BOOK_DATA.cover.version;
    
    const descEl = document.getElementById('cover-description');
    descEl.innerHTML = BOOK_DATA.cover.description.map(p => `<p>${p}</p>`).join('');
}

// Render Navigation
function renderNavigation() {
    const navContainer = document.getElementById('nav-tabs');
    navContainer.innerHTML = BOOK_DATA.chapters.map((ch, i) => 
        `<button class="nav-tab ${i === 0 ? 'active' : ''}" onclick="showChapter('${ch.id}')">${ch.title}</button>`
    ).join('');
}

// Render All Chapters
function renderChapters() {
    const container = document.getElementById('chapters-container');
    container.innerHTML = BOOK_DATA.chapters.map((ch, i) => {
        const renderer = {
            'overview': renderOverview,
            'lesson': renderLesson,
            'glossary': renderGlossary,
            'practice': renderPractice,
            'graded': renderGraded,
            'cards': renderCards,
            'drag': renderDrag,
            'vocab': renderVocab,
            'open': renderOpen,
            'summary': renderSummary
        };
        return `<div class="chapter ${i === 0 ? 'active' : ''}" id="${ch.id}">${renderer[ch.type]()}</div>`;
    }).join('');
}

// Render Overview Chapter
function renderOverview() {
    return `
        <h2 class="chapter-title">ŸÜŸÖÿß€å ⁄©ŸÑ€å Ÿà ÿ®ÿ±ŸÜÿßŸÖŸá ÿØÿ±ÿ≥</h2>
        <div class="content-section">
            <h3>üéØ ÿßŸáÿØÿßŸÅ €åÿßÿØ⁄Ø€åÿ±€å</h3>
            <p>ÿØÿ± Ÿæÿß€åÿßŸÜ ÿß€åŸÜ ÿØÿ±ÿ≥ÿå ÿ¥ŸÖÿß ŸÇÿßÿØÿ± ÿÆŸàÿßŸá€åÿØ ÿ®ŸàÿØ:</p>
            <ul>${BOOK_DATA.overview.objectives.map(o => `<li>${o}</li>`).join('')}</ul>
        </div>
        <div class="content-section">
            <h3>üìö ÿ≥ÿ±ŸÅÿµŸÑ‚ÄåŸáÿß€å ÿØÿ±ÿ≥</h3>
            <table class="data-table">
                <tr><th>ÿ±ÿØ€åŸÅ</th><th>ŸÖŸàÿ∂Ÿàÿπ</th><th>ÿ≤ŸÖÿßŸÜ ÿ™ŸÇÿ±€åÿ®€å</th></tr>
                ${BOOK_DATA.overview.syllabus.map(s => 
                    `<tr><td>${s.chapter}</td><td>${s.topic}</td><td>${s.time}</td></tr>`
                ).join('')}
            </table>
        </div>
        <div class="content-section">
            <h3>üîÑ Ÿæ€åÿ¥‚ÄåŸÜ€åÿßÿ≤Ÿáÿß</h3>
            <p>ÿ®ÿ±ÿß€å €åÿßÿØ⁄Ø€åÿ±€å ÿ®Ÿáÿ™ÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ÿå ÿ®ÿß€åÿØ ÿ®ÿß ŸÖŸÅÿßŸá€åŸÖ ÿ≤€åÿ± ÿ¢ÿ¥ŸÜÿß ÿ®ÿßÿ¥€åÿØ:</p>
            <ul>${BOOK_DATA.overview.prerequisites.map(p => `<li>${p}</li>`).join('')}</ul>
        </div>
    `;
}

// Render Lesson Chapter
function renderLesson() {
    return `
        <h2 class="chapter-title">ÿØÿ±ÿ≥ŸÜÿßŸÖŸá - ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ</h2>
        
        <div class="content-section">
            <h3>üìê ÿ™ÿπÿ±€åŸÅ ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿ™Ÿàÿßÿ®ÿπ</h3>
            <p>ŸÅÿ±ÿ∂ ⁄©ŸÜ€åÿØ ÿØŸà ÿ™ÿßÿ®ÿπ \\(f\\) Ÿà \\(g\\) ÿØÿßÿ±€åŸÖ. ÿ®ÿ±ÿß€å ÿßŸÜÿ¨ÿßŸÖ ÿπŸÖŸÑ€åÿßÿ™ ÿ±Ÿà€å ÿß€åŸÜ ÿØŸà ÿ™ÿßÿ®ÿπÿå ÿ®ÿß€åÿØ ÿØÿßŸÖŸÜŸá‚ÄåŸáÿß€å ÿ¢ŸÜ‚ÄåŸáÿß ÿßÿ¥ÿ™ÿ±ÿß⁄© ÿØÿßÿ¥ÿ™Ÿá ÿ®ÿßÿ¥ŸÜÿØ. ÿß⁄Øÿ± \\(D_f\\) ÿØÿßŸÖŸÜŸá \\(f\\) Ÿà \\(D_g\\) ÿØÿßŸÖŸÜŸá \\(g\\) ÿ®ÿßÿ¥ÿØÿå ÿ¢ŸÜ⁄ØÿßŸá:</p>
            <div class="formula-box">
                <p><strong>ÿØÿßŸÖŸÜŸá ŸÖÿ¥ÿ™ÿ±⁄©:</strong> \\(D_f \\cap D_g\\)</p>
            </div>
        </div>
        
        <div class="content-section">
            <h3>‚ûï ÿ¨ŸÖÿπ ÿ™Ÿàÿßÿ®ÿπ</h3>
            <p>ÿ®ÿ±ÿß€å ÿ¨ŸÖÿπ ÿØŸà ÿ™ÿßÿ®ÿπ \\(f\\) Ÿà \\(g\\)ÿå ŸÖŸÇÿßÿØ€åÿ± ŸÖÿ™ŸÜÿßÿ∏ÿ± ÿ¢ŸÜ‚ÄåŸáÿß ÿ±ÿß ÿ¨ŸÖÿπ ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ:</p>
            <div class="formula-box">
                <p><strong>ÿ™ÿπÿ±€åŸÅ:</strong> \\((f + g)(x) = f(x) + g(x)\\)</p>
                <p><strong>ÿØÿßŸÖŸÜŸá:</strong> \\(D_{f+g} = D_f \\cap D_g\\)</p>
            </div>
        </div>
        
        <div class="content-section">
            <h3>‚ûñ ÿ™ŸÅÿ±€åŸÇ ÿ™Ÿàÿßÿ®ÿπ</h3>
            <p>ÿ®ÿ±ÿß€å ÿ™ŸÅÿ±€åŸÇ ÿØŸà ÿ™ÿßÿ®ÿπ \\(f\\) Ÿà \\(g\\)ÿå ŸÖŸÇÿßÿØ€åÿ± ŸÖÿ™ŸÜÿßÿ∏ÿ± ÿ¢ŸÜ‚ÄåŸáÿß ÿ±ÿß ÿßÿ≤ ŸáŸÖ ⁄©ŸÖ ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ:</p>
            <div class="formula-box">
                <p><strong>ÿ™ÿπÿ±€åŸÅ:</strong> \\((f - g)(x) = f(x) - g(x)\\)</p>
                <p><strong>ÿØÿßŸÖŸÜŸá:</strong> \\(D_{f-g} = D_f \\cap D_g\\)</p>
            </div>
        </div>
        
        <div class="content-section">
            <h3>‚úñÔ∏è ÿ∂ÿ±ÿ® ÿ™Ÿàÿßÿ®ÿπ</h3>
            <p>ÿ®ÿ±ÿß€å ÿ∂ÿ±ÿ® ÿØŸà ÿ™ÿßÿ®ÿπ \\(f\\) Ÿà \\(g\\)ÿå ŸÖŸÇÿßÿØ€åÿ± ŸÖÿ™ŸÜÿßÿ∏ÿ± ÿ¢ŸÜ‚ÄåŸáÿß ÿ±ÿß ÿØÿ± ŸáŸÖ ÿ∂ÿ±ÿ® ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ:</p>
            <div class="formula-box">
                <p><strong>ÿ™ÿπÿ±€åŸÅ:</strong> \\((f \\times g)(x) = f(x) \\times g(x)\\)</p>
                <p><strong>ÿØÿßŸÖŸÜŸá:</strong> \\(D_{f \\times g} = D_f \\cap D_g\\)</p>
            </div>
        </div>
        
        <div class="content-section">
            <h3>‚ûó ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπ</h3>
            <p>ÿ®ÿ±ÿß€å ÿ™ŸÇÿ≥€åŸÖ ÿ™ÿßÿ®ÿπ \\(f\\) ÿ®ÿ± \\(g\\)ÿå ŸÖŸÇÿØÿßÿ± \\(f\\) ÿ±ÿß ÿ®ÿ± \\(g\\) ÿ™ŸÇÿ≥€åŸÖ ŸÖ€å‚Äå⁄©ŸÜ€åŸÖ:</p>
            <div class="formula-box">
                <p><strong>ÿ™ÿπÿ±€åŸÅ:</strong> \\(\\left(\\frac{f}{g}\\right)(x) = \\frac{f(x)}{g(x)}\\)</p>
                <p><strong>ÿØÿßŸÖŸÜŸá:</strong> \\(D_{\\frac{f}{g}} = D_f \\cap D_g - \\{x | g(x) = 0\\}\\)</p>
            </div>
            <div class="warning-box">
                <h4>‚ö†Ô∏è ŸÜ⁄©ÿ™Ÿá ŸÖŸáŸÖ:</h4>
                <p>ÿØÿ± ÿ™ŸÇÿ≥€åŸÖ ÿ™Ÿàÿßÿ®ÿπÿå ÿ®ÿß€åÿØ ŸÖÿ±ÿßŸÇÿ® ÿ®ÿßÿ¥€åŸÖ ⁄©Ÿá ŸÖÿÆÿ±ÿ¨ ÿµŸÅÿ± ŸÜÿ¥ŸàÿØ. ÿ™ŸÖÿßŸÖ ŸÖŸÇÿßÿØ€åÿ±€å ⁄©Ÿá \\(g(x) = 0\\) ŸÖ€å‚Äå⁄©ŸÜŸÜÿØ ÿ®ÿß€åÿØ ÿßÿ≤ ÿØÿßŸÖŸÜŸá ÿ≠ÿ∞ŸÅ ÿ¥ŸàŸÜÿØ.</p>
            </div>
        </div>
        
        <div class="content-section">
            <h3>üìä ÿ¨ÿØŸàŸÑ ÿÆŸÑÿßÿµŸá ÿπŸÖŸÑ€åÿßÿ™</h3>
            <table class="data-table">
                <tr><th>ÿπŸÖŸÑ€åÿßÿ™</th><th>ŸÅÿ±ŸÖŸàŸÑ</th><th>ÿØÿßŸÖŸÜŸá</th></tr>
                <tr><td>ÿ¨ŸÖÿπ</td><td>\\((f + g)(x) = f(x) + g(x)\\)</td><td>\\(D_f \\cap D_g\\)</td></tr>
                <tr><td>ÿ™ŸÅÿ±€åŸÇ</td><td>\\((f - g)(x) = f(x) - g(x)\\)</td><td>\\(D_f \\cap D_g\\)</td></tr>
                <tr><td>ÿ∂ÿ±ÿ®</td><td>\\((f \\times g)(x) = f(x) \\times g(x)\\)</td><td>\\(D_f \\cap D_g\\)</td></tr>
                <tr><td>ÿ™ŸÇÿ≥€åŸÖ</td><td>\\(\\left(\\frac{f}{g}\\right)(x) = \\frac{f(x)}{g(x)}\\)</td><td>\\(D_f \\cap D_g - \\{x | g(x) = 0\\}\\)</td></tr>
            </table>
        </div>
    `;
}

// Render Glossary Chapter
function renderGlossary() {
    return `
        <h2 class="chapter-title">Ÿàÿß⁄òŸá‚ÄåŸÜÿßŸÖŸá ÿßÿµÿ∑ŸÑÿßÿ≠ÿßÿ™</h2>
        <div class="accordion-container">
            ${BOOK_DATA.glossary.map((item, i) => `
                <div class="accordion-item">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <span>${item.term}</span>
                        <span class="icon">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <p><strong>ÿ™ÿπÿ±€åŸÅ:</strong> ${item.definition}</p>
                        ${item.symbol ? `<p><strong>ŸÜŸÖÿßÿØ:</strong> ${item.symbol}</p>` : ''}
                        ${item.formula ? `<p><strong>ŸÅÿ±ŸÖŸàŸÑ:</strong> ${item.formula}</p>` : ''}
                        ${item.example ? `<p><strong>ŸÖÿ´ÿßŸÑ:</strong> ${item.example}</p>` : ''}
                        ${item.note ? `<p><strong>ŸÜ⁄©ÿ™Ÿá:</strong> ${item.note}</p>` : ''}
                        ${item.warning ? `<p><strong>Ÿáÿ¥ÿØÿßÿ±:</strong> ${item.warning}</p>` : ''}
                        ${item.synonyms ? `<p><strong>ŸÖÿ™ÿ±ÿßÿØŸÅ:</strong> ${item.synonyms}</p>` : ''}
                    </div>
                </div>
            `).join('')}
        </div>
    `;
}

// Render Practice Chapter
function renderPractice() {
    return `
        <h2 class="chapter-title">ÿ¢ÿ≤ŸÖŸàŸÜ ÿ™ŸÖÿ±€åŸÜ€å (ÿ®ÿØŸàŸÜ ŸÜŸÖÿ±Ÿá)</h2>
        <div class="content-section">
            <p>üìù ÿß€åŸÜ ÿ¢ÿ≤ŸÖŸàŸÜ ÿ®ÿ±ÿß€å ÿ™ŸÖÿ±€åŸÜ ÿßÿ≥ÿ™ Ÿà ŸÜŸÖÿ±Ÿá‚Äåÿß€å ŸÜÿØÿßÿ±ÿØ. Ÿæÿ≥ ÿßÿ≤ Ÿæÿßÿ≥ÿÆ ÿØÿßÿØŸÜ ÿ®Ÿá Ÿáÿ± ÿ≥ŸàÿßŸÑÿå Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ Ÿà ÿ™Ÿàÿ∂€åÿ≠ ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ.</p>
        </div>
        <div id="practice-questions">
            ${BOOK_DATA.practiceQuestions.map((q, i) => renderPracticeQuestion(q, i + 1)).join('')}
        </div>
    `;
}

// Render a single practice question
function renderPracticeQuestion(q, num) {
    if (q.question === "fillBlank") {
        return `
            <div class="question-container" id="${q.id}">
                <p class="question-text"><strong>ÿ≥ŸàÿßŸÑ ${num}:</strong> ÿ¨ÿßŸáÿß€å ÿÆÿßŸÑ€å ÿ±ÿß Ÿæÿ± ⁄©ŸÜ€åÿØ:</p>
                <p>${q.text.replace('____________', '<input type="text" class="fill-blank-input" id="' + q.id + '-blank">')}</p>
                <div class="feedback" id="${q.id}-feedback"></div>
                <button class="btn-secondary" onclick="checkFillBlank('${q.id}', '${q.correctAnswer}', '${q.explanation}')">ÿ®ÿ±ÿ±ÿ≥€å Ÿæÿßÿ≥ÿÆ</button>
            </div>
        `;
    } else if (q.question === "trueFalse") {
        return `
            <div class="question-container" id="${q.id}">
                <p class="question-text"><strong>ÿ≥ŸàÿßŸÑ ${num}:</strong> ÿ≠⁄©ŸÖ ÿ≤€åÿ± ÿ±ÿßÿ≥ÿ™€å €åÿß ŸÜÿßÿØÿ±ÿ≥ÿ™€å ÿØÿßÿ±ÿØÿü</p>
                <p>${q.text}</p>
                <div class="tf-options">
                    <div class="tf-option true-option" onclick="selectTF(this, '${q.id}', true)">‚úì ÿØÿ±ÿ≥ÿ™</div>
                    <div class="tf-option false-option" onclick="selectTF(this, '${q.id}', false)">‚úó ŸÜÿßÿØÿ±ÿ≥ÿ™</div>
                </div>
                <div class="feedback" id="${q.id}-feedback"></div>
                <button class="btn-secondary" onclick="checkTF('${q.id}', ${q.correct}, '${q.explanation}')">ÿ®ÿ±ÿ±ÿ≥€å Ÿæÿßÿ≥ÿÆ</button>
            </div>
        `;
    } else {
        return `
            <div class="question-container" id="${q.id}">
                <p class="question-text"><strong>ÿ≥ŸàÿßŸÑ ${num}:</strong> ${q.question}</p>
                <div class="options-container">
                    ${q.options.map((opt, i) => 
                        `<div class="option" onclick="selectOption(this, '${q.id}', ${i})">${opt}</div>`
                    ).join('')}
                </div>
                <div class="feedback" id="${q.id}-feedback"></div>
                <button class="btn-secondary" onclick="checkPracticeAnswer('${q.id}', ${q.correct}, '${q.explanation}')">ÿ®ÿ±ÿ±ÿ≥€å Ÿæÿßÿ≥ÿÆ</button>
            </div>
        `;
    }
}

// Render Graded Chapter
function renderGraded() {
    return `
        <h2 class="chapter-title">ÿ¢ÿ≤ŸÖŸàŸÜ ŸÜŸÖÿ±Ÿá‚ÄåÿØÿßÿ±</h2>
        <div class="content-section">
            <p>üìä ÿß€åŸÜ ÿ¢ÿ≤ŸÖŸàŸÜ ŸÜŸÖÿ±Ÿá ÿØÿßÿ±ÿØ. Ÿæÿ≥ ÿßÿ≤ Ÿæÿßÿ≥ÿÆ ÿØÿßÿØŸÜ ÿ®Ÿá ÿ™ŸÖÿßŸÖ ÿ≥ŸàÿßŸÑÿßÿ™ÿå ŸÜŸÖÿ±Ÿá ŸÜŸáÿß€å€å ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ.</p>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="test-progress" style="width: 0%"></div>
        </div>
        <div id="graded-questions">
            ${BOOK_DATA.gradedQuestions.map((q, i) => `
                <div class="question-container" id="${q.id}">
                    <p class="question-text"><strong>ÿ≥ŸàÿßŸÑ ${i + 1}:</strong> ${q.question}</p>
                    <div class="options-container">
                        ${q.options.map((opt, j) => 
                            `<div class="option" onclick="selectGradedOption(this, '${q.id}', ${j})">${opt}</div>`
                        ).join('')}
                    </div>
                </div>
            `).join('')}
        </div>
        <div style="text-align: center; margin: 30px 0;">
            <button class="btn-primary" onclick="submitGradedTest()">üìä ÿ´ÿ®ÿ™ Ÿæÿßÿ≥ÿÆ‚ÄåŸáÿß Ÿà ŸÜŸÖÿß€åÿ¥ ŸÜŸÖÿ±Ÿá</button>
        </div>
        <div class="score-display" id="score-display" style="display: none;">
            <p>ŸÜŸÖÿ±Ÿá ÿ¥ŸÖÿß:</p>
            <p class="score-value" id="score-value">0/10</p>
            <p id="score-message"></p>
        </div>
    `;
}

// Render Cards Chapter
function renderCards() {
    return `
        <h2 class="chapter-title">⁄©ÿßÿ±ÿ™‚ÄåŸáÿß€å ŸÖŸÅŸáŸàŸÖ€å</h2>
        <div class="content-section">
            <p>üÉè ÿ±Ÿà€å Ÿáÿ± ⁄©ÿßÿ±ÿ™ ⁄©ŸÑ€å⁄© ⁄©ŸÜ€åÿØ ÿ™ÿß Ÿæÿßÿ≥ÿÆ ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ÿ¥ŸàÿØ. ÿ®ÿ±ÿß€å ⁄©ÿßÿ±ÿ™ ÿ®ÿπÿØ€å ÿßÿ≤ ÿØ⁄©ŸÖŸá‚ÄåŸáÿß€å ÿ≤€åÿ± ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ.</p>
        </div>
        <div class="card-navigation">
            <button class="card-nav-btn" onclick="prevCard()"> ‚ñ∂ ŸÇÿ®ŸÑ€å</button>
            <span class="card-counter"> ⁄©ÿßÿ±ÿ™ <span id="card-number"> 1 </span> ÿßÿ≤ <span id="total-cards"> ${ BOOK_DATA.flashcards.length } </span> </span>
            <button class="card-nav-btn" onclick="nextCard()">‚óÄ  ÿ®ÿπÿØ€å </button>
        </div>
        <div class="cards-container">
            <div class="flashcard" id="flashcard" onclick="flipCard()">
                <div class="card-front" id="card-front">${BOOK_DATA.flashcards[0].front}</div>
                <div class="card-back" id="card-back">${BOOK_DATA.flashcards[0].back}</div>
            </div>
        </div>
        <p style="text-align: center; color: #666;">⁄©ŸÑ€å⁄© ⁄©ŸÜ€åÿØ ÿ™ÿß ⁄©ÿßÿ±ÿ™ ÿ®⁄Üÿ±ÿÆÿØ</p>
    `;
}

// Render Drag Chapter
function renderDrag() {
    return `
        <h2 class="chapter-title">ÿπÿ®ÿßÿ±ÿ™‚ÄåŸáÿß€å ⁄©ÿßŸÖŸÑ ⁄©ÿ±ÿØŸÜ€å</h2>
        <div class="content-section">
            <p>üî§ ⁄©ŸÑŸÖÿßÿ™ ŸÖŸÜÿßÿ≥ÿ® ÿ±ÿß ÿßÿ≤ ÿ≤€åÿ± Ÿáÿ± ÿ¨ŸÖŸÑŸá ÿ®ÿ±ÿØÿßÿ¥ÿ™Ÿá Ÿà ÿØÿ± ÿ¨ÿß€å ÿÆÿßŸÑ€å ŸÇÿ±ÿßÿ± ÿØŸá€åÿØ.</p>
        </div>
        <div id="drag-exercises">
            ${BOOK_DATA.dragExercises.map((ex, i) => `
                <div class="drag-text-container" id="drag-ex${i + 1}">
                    <p class="sentence-line">
                        ${ex.sentence.replace('__________', `<span class="blank-space" data-answer="${ex.answer}"></span>`)}
                    </p>
                    <div class="draggable-words">
                        ${ex.options.map(opt => 
                            `<span class="draggable-word" draggable="true" ondragstart="dragStart(event)" data-word="${opt}">${opt}</span>`
                        ).join('')}
                    </div>
                </div>
            `).join('')}
        </div>
        <div style="text-align: center; margin: 30px 0;">
            <button class="btn-secondary" onclick="resetDragExercises()">üîÑ ÿ¥ÿ±Ÿàÿπ ŸÖÿ¨ÿØÿØ</button>
            <button class="btn-primary" onclick="checkDragExercises()">‚úì ÿ®ÿ±ÿ±ÿ≥€å Ÿæÿßÿ≥ÿÆ‚ÄåŸáÿß</button>
        </div>
        <div class="feedback" id="drag-feedback"></div>
    `;
}

// Render Vocab Chapter
function renderVocab() {
    return `
        <h2 class="chapter-title">ÿ≥ŸàÿßŸÑÿßÿ™ ⁄ÜŸÜÿØ ⁄Øÿ≤€åŸÜŸá ÿß€å</h2>
        <div id="vocab-questions">
            ${BOOK_DATA.vocabQuestions.map((q, i) => `
                <div class="question-container" id="vq${i + 1}">
                    <p class="question-text"><strong>${i + 1}.</strong> ${q.question}</p>
                    <div class="options-container">
                        ${q.options.map((opt, j) => 
                            `<div class="option" onclick="selectVocabOption(this, 'vq${i + 1}', ${j})">${opt}</div>`
                        ).join('')}
                    </div>
                </div>
            `).join('')}
        </div>
        <div style="text-align: center; margin: 30px 0;">
            <button class="btn-primary" onclick="checkVocabAnswers()">‚úì ÿ®ÿ±ÿ±ÿ≥€å Ÿæÿßÿ≥ÿÆ‚ÄåŸáÿß</button>
        </div>
        <div class="score-display" id="vocab-score" style="display: none;">
            <p>ÿ™ÿπÿØÿßÿØ Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠:</p>
            <p class="score-value" id="vocab-score-value">0/${BOOK_DATA.vocabQuestions.length}</p>
        </div>
    `;
}

// Render Open Chapter
function renderOpen() {
    return `
        <h2 class="chapter-title">ÿ≥ŸàÿßŸÑÿßÿ™ ÿ®ÿßÿ≤Ÿæÿßÿ≥ÿÆ Ÿæÿßÿ≥ÿÆ</h2>
        <div class="content-section">
            <p>üí≠ ÿ±Ÿà€å Ÿáÿ± ⁄©ÿßÿ±ÿ™ ⁄©ŸÑ€å⁄© ⁄©ŸÜ€åÿØ ÿ™ÿß Ÿæÿßÿ≥ÿÆ Ÿæ€åÿ¥ŸÜŸáÿßÿØ€å ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ÿ¥ŸàÿØ. ÿ®Ÿá ÿ≥ŸàÿßŸÑ ŸÅ⁄©ÿ± ⁄©ŸÜ€åÿØ Ÿà ÿ≥Ÿæÿ≥ Ÿæÿßÿ≥ÿÆ ÿÆŸàÿØ ÿ±ÿß ÿ®ÿß Ÿæÿßÿ≥ÿÆ Ÿæ€åÿ¥ŸÜŸáÿßÿØ€å ŸÖŸÇÿß€åÿ≥Ÿá ⁄©ŸÜ€åÿØ.</p>
        </div>
        <div class="card-navigation">
            <button class="card-nav-btn" onclick="prevOpenCard()">‚ñ∂ ŸÇÿ®ŸÑ€å </button>
            <span class="card-counter">ÿ≥ŸàÿßŸÑ <span id="open-card-number">1</span> ÿßÿ≤ <span id="total-open-cards">${BOOK_DATA.openQuestions.length}</span></span>
            <button class="card-nav-btn" onclick="nextOpenCard()">ÿ®ÿπÿØ€å ‚óÄ</button>
        </div>
        <div class="cards-container">
            <div class="flashcard" id="open-flashcard" onclick="flipOpenCard()">
                <div class="card-front" id="open-card-front">${BOOK_DATA.openQuestions[0].question}</div>
                <div class="card-back" id="open-card-back">${BOOK_DATA.openQuestions[0].answer}</div>
            </div>
        </div>
        <p style="text-align: center; color: #666;">⁄©ŸÑ€å⁄© ⁄©ŸÜ€åÿØ ÿ™ÿß Ÿæÿßÿ≥ÿÆ Ÿæ€åÿ¥ŸÜŸáÿßÿØ€å ŸÜŸÖÿß€åÿ¥ ÿØÿßÿØŸá ÿ¥ŸàÿØ</p>
    `;
}

// Render Summary Chapter
function renderSummary() {
    return `
        <h2 class="chapter-title">ÿÆŸÑÿßÿµŸá ÿØÿ±ÿ≥</h2>
        
        <div class="content-section">
            <h3>üìå ŸÜ⁄©ÿßÿ™ ⁄©ŸÑ€åÿØ€å</h3>
            <ul>
                ${BOOK_DATA.summary.keyPoints.map(p => 
                    `<li><strong>${p.title}:</strong> ${p.formula} ÿ®ÿß ÿØÿßŸÖŸÜŸá ${p.domain}</li>`
                ).join('')}
            </ul>
        </div>
        
        <div class="formula-box">
            <h3>üìä ÿ¨ÿØŸàŸÑ ÿÆŸÑÿßÿµŸá</h3>
            <table class="data-table">
                <tr><th>ÿπŸÖŸÑ€åÿßÿ™</th><th>ŸÅÿ±ŸÖŸàŸÑ</th><th>ÿØÿßŸÖŸÜŸá</th></tr>
                ${BOOK_DATA.summary.keyPoints.map(p => 
                    `<tr><td>${p.title}</td><td>${p.formula}</td><td>${p.domain}</td></tr>`
                ).join('')}
            </table>
        </div>
        
        <div class="warning-box">
            <h4>‚ö†Ô∏è ŸÜ⁄©ÿßÿ™ ŸÖŸáŸÖ ÿ®ÿ±ÿß€å €åÿßÿØÿ¢Ÿàÿ±€å</h4>
            <ul>${BOOK_DATA.summary.tips.map(t => `<li>${t}</li>`).join('')}</ul>
        </div>
        
        <div class="example-box">
            <h4>üéØ ÿßŸáÿØÿßŸÅ ÿ¢ŸÖŸàÿ≤ÿ¥€å ŸÖÿ≠ŸÇŸÇ ÿ¥ÿØŸá</h4>
            <p>ÿ®ÿß ÿ™⁄©ŸÖ€åŸÑ ÿß€åŸÜ ÿØÿ±ÿ≥ ÿ™ÿπÿßŸÖŸÑ€åÿå ÿ¥ŸÖÿß ÿ™ŸàÿßŸÜÿ≥ÿ™€åÿØ:</p>
            <ul>${BOOK_DATA.summary.achievements.map(a => `<li>‚úÖ ${a}</li>`).join('')}</ul>
        </div>
        
        <div style="text-align: center; margin: 30px 0; padding: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; color: white;">
            <h3 style="margin: 0 0 15px 0;">üéâ ÿ™ÿ®ÿ±€å⁄©!</h3>
            <p style="margin: 0;">ÿ¥ŸÖÿß ÿß€åŸÜ ÿ™ÿØÿ±€åÿ≥ ÿ™ÿπÿßŸÖŸÑ€å ÿ±ÿß ÿ™⁄©ŸÖ€åŸÑ ⁄©ÿ±ÿØ€åÿØ. ÿ®ÿ±ÿß€å ŸÖÿ±Ÿàÿ± ÿ®€åÿ¥ÿ™ÿ±ÿå ÿ®Ÿá ŸÅÿµŸÑ‚ÄåŸáÿß€å ŸÇÿ®ŸÑ€å ÿ®ÿ±⁄Øÿ±ÿØ€åÿØ Ÿà ÿ™ŸÖÿ±€åŸÜÿßÿ™ ÿ±ÿß ŸÖÿ¨ÿØÿØÿßŸã ÿ≠ŸÑ ⁄©ŸÜ€åÿØ.</p>
        </div>
    `;
}


// ============================================
// INTERACTION HANDLERS
// ============================================

// Chapter Navigation
function showChapter(chapterId) {
    document.querySelectorAll('.chapter').forEach(ch => ch.classList.remove('active'));
    document.getElementById(chapterId).classList.add('active');
    
    document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
    event.target.classList.add('active');
    
    if (window.MathJax) {
        MathJax.typeset();
    }
}

// Accordion
function toggleAccordion(header) {
    header.parentElement.classList.toggle('open');
    if (window.MathJax) {
        MathJax.typeset();
    }
}

// Practice Test Functions
function selectOption(element, questionId, optionIndex) {
    const container = element.parentElement;
    container.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
    element.classList.add('selected');
    practiceAnswers[questionId] = optionIndex;
}

function checkPracticeAnswer(questionId, correctIndex, explanation) {
    const feedback = document.getElementById(questionId + '-feedback');
    const selectedOption = document.querySelector(`#${questionId} .option.selected`);
    
    if (!selectedOption) {
        feedback.className = 'feedback wrong';
        feedback.innerHTML = '‚ùå ŸÑÿ∑ŸÅÿßŸã €å⁄© ⁄Øÿ≤€åŸÜŸá ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ.';
        feedback.style.display = 'block';
        return;
    }
    
    const userAnswer = practiceAnswers[questionId];
    const options = document.querySelectorAll(`#${questionId} .option`);
    
    if (userAnswer === correctIndex) {
        feedback.className = 'feedback correct';
        feedback.innerHTML = '‚úÖ ÿ¢ŸÅÿ±€åŸÜ! Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™.<br><strong>ÿ™Ÿàÿ∂€åÿ≠:</strong> ' + explanation;
        selectedOption.classList.add('correct');
    } else {
        feedback.className = 'feedback wrong';
        options[correctIndex].classList.add('correct');
        selectedOption.classList.add('wrong');
        feedback.innerHTML = '‚ùå Ÿæÿßÿ≥ÿÆ ŸÜÿßÿØÿ±ÿ≥ÿ™ ÿßÿ≥ÿ™. Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ ŸÖÿ¥ÿÆÿµ ÿ¥ÿØŸá ÿßÿ≥ÿ™.<br><strong>ÿ™Ÿàÿ∂€åÿ≠:</strong> ' + explanation;
    }
    feedback.style.display = 'block';
    if (window.MathJax) MathJax.typeset();
}

function checkFillBlank(questionId, correctAnswer, explanation) {
    const input = document.getElementById(questionId + '-blank');
    const feedback = document.getElementById(questionId + '-feedback');
    const userAnswer = input.value.trim();
    
    if (userAnswer === correctAnswer) {
        feedback.className = 'feedback correct';
        feedback.innerHTML = '‚úÖ ÿ¢ŸÅÿ±€åŸÜ! Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™.<br><strong>ÿ™Ÿàÿ∂€åÿ≠:</strong> ' + explanation;
    } else {
        feedback.className = 'feedback wrong';
        feedback.innerHTML = '‚ùå Ÿæÿßÿ≥ÿÆ ŸÜÿßÿØÿ±ÿ≥ÿ™ ÿßÿ≥ÿ™. Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ \'' + correctAnswer + '\' ÿßÿ≥ÿ™.<br><strong>ÿ™Ÿàÿ∂€åÿ≠:</strong> ' + explanation;
    }
    feedback.style.display = 'block';
}

function selectTF(element, questionId, value) {
    const container = element.parentElement;
    container.querySelectorAll('.tf-option').forEach(opt => opt.classList.remove('selected'));
    element.classList.add('selected');
    practiceAnswers[questionId] = value;
}

function checkTF(questionId, correctAnswer, explanation) {
    const feedback = document.getElementById(questionId + '-feedback');
    const userAnswer = practiceAnswers[questionId];
    
    if (userAnswer === undefined) {
        feedback.className = 'feedback wrong';
        feedback.innerHTML = '‚ùå ŸÑÿ∑ŸÅÿßŸã €å⁄© ⁄Øÿ≤€åŸÜŸá ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ.';
        feedback.style.display = 'block';
        return;
    }
    
    if (userAnswer === correctAnswer) {
        feedback.className = 'feedback correct';
        feedback.innerHTML = '‚úÖ ÿ¢ŸÅÿ±€åŸÜ! Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™.<br><strong>ÿ™Ÿàÿ∂€åÿ≠:</strong> ' + explanation;
    } else {
        feedback.className = 'feedback wrong';
        feedback.innerHTML = '‚ùå Ÿæÿßÿ≥ÿÆ ŸÜÿßÿØÿ±ÿ≥ÿ™ ÿßÿ≥ÿ™. Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ \'' + (correctAnswer ? 'ÿØÿ±ÿ≥ÿ™' : 'ŸÜÿßÿØÿ±ÿ≥ÿ™') + '\' ÿßÿ≥ÿ™.<br><strong>ÿ™Ÿàÿ∂€åÿ≠:</strong> ' + explanation;
    }
    feedback.style.display = 'block';
}

// Graded Test Functions
function selectGradedOption(element, questionId, optionIndex) {
    const container = element.parentElement;
    container.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
    element.classList.add('selected');
    gradedAnswers[questionId] = optionIndex;
    updateProgress();
}

function updateProgress() {
    const answered = Object.keys(gradedAnswers).length;
    const total = BOOK_DATA.gradedQuestions.length;
    document.getElementById('test-progress').style.width = (answered / total * 100) + '%';
}

function submitGradedTest() {
    let score = 0;
    
    BOOK_DATA.gradedQuestions.forEach(q => {
        const userAnswer = gradedAnswers[q.id];
        const options = document.querySelectorAll(`#${q.id} .option`);
        
        options.forEach((opt, i) => {
            opt.onclick = null;
            if (i === q.correct) {
                opt.classList.add('correct');
            } else if (opt.classList.contains('selected')) {
                opt.classList.add('wrong');
            }
        });
        
        if (userAnswer === q.correct) score++;
    });
    
    document.getElementById('score-display').style.display = 'block';
    document.getElementById('score-value').textContent = score + '/' + BOOK_DATA.gradedQuestions.length;
    
    let message = '';
    if (score >= 9) message = 'üèÜ ÿπÿßŸÑ€å! ÿ¥ŸÖÿß ÿß€åŸÜ ÿØÿ±ÿ≥ ÿ±ÿß ÿ®Ÿá ÿÆŸàÿ®€å €åÿßÿØ ⁄Øÿ±ŸÅÿ™Ÿá‚Äåÿß€åÿØ.';
    else if (score >= 7) message = 'üëç ÿÆŸàÿ®! ⁄©ŸÖ€å ÿ®€åÿ¥ÿ™ÿ± ÿ™ŸÖÿ±€åŸÜ ⁄©ŸÜ€åÿØ.';
    else if (score >= 5) message = 'üìö ŸÖÿ™Ÿàÿ≥ÿ∑. ÿØÿ±ÿ≥ ÿ±ÿß ŸÖÿ¨ÿØÿØÿßŸã ŸÖÿ±Ÿàÿ± ⁄©ŸÜ€åÿØ.';
    else message = '‚ö†Ô∏è ŸÜ€åÿßÿ≤ ÿ®Ÿá ŸÖÿ±Ÿàÿ± ÿ®€åÿ¥ÿ™ÿ± ÿØÿßÿ±ÿØ. ÿ®Ÿá ŸÅÿµŸÑ ÿØÿ±ÿ≥ ÿ®ÿ±⁄Øÿ±ÿØ€åÿØ.';
    
    document.getElementById('score-message').textContent = message;
    if (window.MathJax) MathJax.typeset();
}

// Flash Cards Functions
function updateCard() {
    const card = BOOK_DATA.flashcards[currentCard];
    document.getElementById('card-front').innerHTML = card.front;
    document.getElementById('card-back').innerHTML = card.back;
    document.getElementById('card-number').textContent = currentCard + 1;
    document.getElementById('flashcard').classList.remove('flipped');
    if (window.MathJax) MathJax.typeset();
}

function flipCard() {
    document.getElementById('flashcard').classList.toggle('flipped');
}

function nextCard() {
    currentCard = (currentCard + 1) % BOOK_DATA.flashcards.length;
    updateCard();
}

function prevCard() {
    currentCard = (currentCard - 1 + BOOK_DATA.flashcards.length) % BOOK_DATA.flashcards.length;
    updateCard();
}

// Open Cards Functions
function updateOpenCard() {
    const card = BOOK_DATA.openQuestions[currentOpenCard];
    document.getElementById('open-card-front').innerHTML = card.question;
    document.getElementById('open-card-back').innerHTML = card.answer;
    document.getElementById('open-card-number').textContent = currentOpenCard + 1;
    document.getElementById('open-flashcard').classList.remove('flipped');
    if (window.MathJax) MathJax.typeset();
}

function flipOpenCard() {
    document.getElementById('open-flashcard').classList.toggle('flipped');
}

function nextOpenCard() {
    currentOpenCard = (currentOpenCard + 1) % BOOK_DATA.openQuestions.length;
    updateOpenCard();
}

function prevOpenCard() {
    currentOpenCard = (currentOpenCard - 1 + BOOK_DATA.openQuestions.length) % BOOK_DATA.openQuestions.length;
    updateOpenCard();
}

// Drag and Drop Functions
let draggedWord = null;

function dragStart(event) {
    draggedWord = event.target;
    event.dataTransfer.setData('text/plain', event.target.dataset.word);
}

// attach drag listeners to blank spaces; call after the DOM has been populated
function setupDragListeners() {
    document.querySelectorAll('.blank-space').forEach(blank => {
        blank.addEventListener('dragover', e => e.preventDefault());
        blank.addEventListener('drop', function(e) {
            e.preventDefault();
            const word = e.dataTransfer.getData('text/plain');
            this.textContent = word;
            this.dataset.filled = word;
            this.classList.add('filled');
            if (draggedWord) draggedWord.classList.add('used');
        });
    });
}

function checkDragExercises() {
    let correct = 0;
    document.querySelectorAll('.blank-space').forEach(blank => {
        if (blank.dataset.filled === blank.dataset.answer) {
            blank.style.borderColor = '#4caf50';
            blank.style.background = '#e8f5e9';
            correct++;
        } else {
            blank.style.borderColor = '#f44336';
            blank.style.background = '#ffebee';
        }
    });
    
    const feedback = document.getElementById('drag-feedback');
    feedback.className = 'feedback ' + (correct === BOOK_DATA.dragExercises.length ? 'correct' : 'wrong');
    feedback.innerHTML = (correct === BOOK_DATA.dragExercises.length ? '‚úÖ' : '‚ùå') + ' ÿ™ÿπÿØÿßÿØ Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠: ' + correct + ' ÿßÿ≤ ' + BOOK_DATA.dragExercises.length;
    feedback.style.display = 'block';
}

function resetDragExercises() {
    document.querySelectorAll('.blank-space').forEach(blank => {
        blank.textContent = '';
        blank.dataset.filled = '';
        blank.classList.remove('filled');
        blank.style.borderColor = '#2196f3';
        blank.style.background = '#e3f2fd';
    });
    document.querySelectorAll('.draggable-word').forEach(word => word.classList.remove('used'));
    document.getElementById('drag-feedback').style.display = 'none';
}

// Vocab Functions
function selectVocabOption(element, questionId, optionIndex) {
    const container = element.parentElement;
    container.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
    element.classList.add('selected');
    vocabAnswers[questionId] = optionIndex;
}

function checkVocabAnswers() {
    let score = 0;
    
    BOOK_DATA.vocabQuestions.forEach((q, i) => {
        const questionId = 'vq' + (i + 1);
        const userAnswer = vocabAnswers[questionId];
        const selectedOption = document.querySelector(`#${questionId} .option.selected`);
        
        if (selectedOption) {
            if (userAnswer === q.correct) {
                selectedOption.classList.add('correct');
                score++;
            } else {
                selectedOption.classList.add('wrong');
                const options = document.querySelectorAll(`#${questionId} .option`);
                options[q.correct].classList.add('correct');
            }
        }
    });
    
    document.getElementById('vocab-score').style.display = 'block';
    document.getElementById('vocab-score-value').textContent = score + '/' + BOOK_DATA.vocabQuestions.length;
    if (window.MathJax) MathJax.typeset();
}

// Initialize on page load
window.addEventListener('load', function() {
    initBook();
});
</script>
</body>
</html>
